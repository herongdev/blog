import{_ as s,c as d,o as i,ag as a}from"./chunks/framework.oqSrIbQK.js";const k=JSON.parse('{"title":"WebAuthn API 完整对照表：参数、属性值与作用详解","description":"","frontmatter":{"title":"WebAuthn API 完整对照表：参数、属性值与作用详解","date":"2025-01-27T00:00:00.000Z","tags":["WebAuthn","API","参数对照","开发参考"]},"headers":[],"relativePath":"posts/需求实现/登录鉴权/WebAuthn API 完整对照表.md","filePath":"posts/需求实现/登录鉴权/WebAuthn API 完整对照表.md","lastUpdated":1759031800000}'),e={name:"posts/需求实现/登录鉴权/WebAuthn API 完整对照表.md"};function n(h,t,o,r,l,p){return i(),d("div",null,[...t[0]||(t[0]=[a(`<h1 id="webauthn-api-完整对照表" tabindex="-1">WebAuthn API 完整对照表 <a class="header-anchor" href="#webauthn-api-完整对照表" aria-label="Permalink to &quot;WebAuthn API 完整对照表&quot;">​</a></h1><blockquote><p>本文档提供 WebAuthn/Passkeys 开发中所有 API、参数、属性值的完整对照表，方便开发者快速查找和参考。</p></blockquote><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-label="Permalink to &quot;目录&quot;">​</a></h2><ol><li><a href="#注册-api-对照表">注册 API 对照表</a></li><li><a href="#登录-api-对照表">登录 API 对照表</a></li><li><a href="#类型定义对照表">类型定义对照表</a></li><li><a href="#错误码对照表">错误码对照表</a></li><li><a href="#算法标识符对照表">算法标识符对照表</a></li><li><a href="#传输方式对照表">传输方式对照表</a></li><li><a href="#扩展功能对照表">扩展功能对照表</a></li></ol><hr><h2 id="注册-api-对照表" tabindex="-1">注册 API 对照表 <a class="header-anchor" href="#注册-api-对照表" aria-label="Permalink to &quot;注册 API 对照表&quot;">​</a></h2><h3 id="generateregistrationoptions-参数" tabindex="-1"><code>generateRegistrationOptions()</code> 参数 <a class="header-anchor" href="#generateregistrationoptions-参数" aria-label="Permalink to &quot;\`generateRegistrationOptions()\` 参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>默认值</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>rpName</code></td><td><code>string</code></td><td>✅</td><td>-</td><td>依赖方名称（用户可见）</td><td><code>&quot;我的应用&quot;</code></td></tr><tr><td><code>rpID</code></td><td><code>string</code></td><td>✅</td><td>-</td><td>依赖方 ID（域名）</td><td><code>&quot;example.com&quot;</code></td></tr><tr><td><code>userID</code></td><td><code>Uint8Array</code></td><td>✅</td><td>-</td><td>用户唯一标识（二进制）</td><td><code>Buffer.from(&quot;user-123&quot;, &quot;utf8&quot;)</code></td></tr><tr><td><code>userName</code></td><td><code>string</code></td><td>✅</td><td>-</td><td>用户名</td><td><code>&quot;user@example.com&quot;</code></td></tr><tr><td><code>userDisplayName</code></td><td><code>string</code></td><td>❌</td><td><code>&quot;&quot;</code></td><td>用户显示名称</td><td><code>&quot;张三&quot;</code></td></tr><tr><td><code>challenge</code></td><td><code>string | Uint8Array</code></td><td>❌</td><td>自动生成</td><td>防重放挑战</td><td><code>&quot;random-challenge-string&quot;</code></td></tr><tr><td><code>timeout</code></td><td><code>number</code></td><td>❌</td><td><code>60000</code></td><td>超时时间（毫秒）</td><td><code>120000</code></td></tr><tr><td><code>attestationType</code></td><td><code>AttestationType</code></td><td>❌</td><td><code>&quot;none&quot;</code></td><td>证明类型</td><td><code>&quot;none&quot;</code></td></tr><tr><td><code>excludeCredentials</code></td><td><code>CredentialDescriptor[]</code></td><td>❌</td><td><code>[]</code></td><td>排除的凭据列表</td><td><code>[{id, type, transports}]</code></td></tr><tr><td><code>authenticatorSelection</code></td><td><code>AuthenticatorSelectionCriteria</code></td><td>❌</td><td><code>{}</code></td><td>认证器选择条件</td><td><code>{residentKey: &quot;required&quot;}</code></td></tr><tr><td><code>extensions</code></td><td><code>AuthenticationExtensionsClientInputs</code></td><td>❌</td><td><code>{}</code></td><td>扩展功能配置</td><td><code>{credProps: true}</code></td></tr><tr><td><code>supportedAlgorithmIDs</code></td><td><code>number[]</code></td><td>❌</td><td><code>[-8, -7, -257]</code></td><td>支持的算法 ID 列表</td><td><code>[-7, -257]</code></td></tr></tbody></table><h3 id="verifyregistrationresponse-参数" tabindex="-1"><code>verifyRegistrationResponse()</code> 参数 <a class="header-anchor" href="#verifyregistrationresponse-参数" aria-label="Permalink to &quot;\`verifyRegistrationResponse()\` 参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>response</code></td><td><code>RegistrationResponseJSON</code></td><td>✅</td><td>前端返回的注册响应</td><td><code>{id, rawId, type, response}</code></td></tr><tr><td><code>expectedChallenge</code></td><td><code>string</code></td><td>✅</td><td>期望的挑战值</td><td><code>&quot;expected-challenge&quot;</code></td></tr><tr><td><code>expectedOrigin</code></td><td><code>string</code></td><td>✅</td><td>期望的来源</td><td><code>&quot;https://example.com&quot;</code></td></tr><tr><td><code>expectedRPID</code></td><td><code>string</code></td><td>✅</td><td>期望的 RP ID</td><td><code>&quot;example.com&quot;</code></td></tr><tr><td><code>requireUserVerification</code></td><td><code>boolean</code></td><td>❌</td><td>是否要求用户验证</td><td><code>true</code></td></tr></tbody></table><h3 id="注册响应结构" tabindex="-1">注册响应结构 <a class="header-anchor" href="#注册响应结构" aria-label="Permalink to &quot;注册响应结构&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>id</code></td><td><code>string</code></td><td>凭据 ID（字符串形式）</td><td><code>&quot;credential-id-string&quot;</code></td></tr><tr><td><code>rawId</code></td><td><code>string</code></td><td>凭据 ID（Base64URL 编码）</td><td><code>&quot;Y3JlZGVudGlhbC1pZA&quot;</code></td></tr><tr><td><code>type</code></td><td><code>string</code></td><td>凭据类型</td><td><code>&quot;public-key&quot;</code></td></tr><tr><td><code>response.clientDataJSON</code></td><td><code>string</code></td><td>客户端数据（Base64URL 编码）</td><td><code>&quot;eyJ0eXBlIjoi...&quot;</code></td></tr><tr><td><code>response.attestationObject</code></td><td><code>string</code></td><td>证明对象（Base64URL 编码）</td><td><code>&quot;o2NmbXRkbm9uZWdhdHRTdG10oGhhdXRoRGF0YV...&quot;</code></td></tr></tbody></table><hr><h2 id="登录-api-对照表" tabindex="-1">登录 API 对照表 <a class="header-anchor" href="#登录-api-对照表" aria-label="Permalink to &quot;登录 API 对照表&quot;">​</a></h2><h3 id="generateauthenticationoptions-参数" tabindex="-1"><code>generateAuthenticationOptions()</code> 参数 <a class="header-anchor" href="#generateauthenticationoptions-参数" aria-label="Permalink to &quot;\`generateAuthenticationOptions()\` 参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>默认值</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>rpID</code></td><td><code>string</code></td><td>✅</td><td>-</td><td>依赖方 ID</td><td><code>&quot;example.com&quot;</code></td></tr><tr><td><code>allowCredentials</code></td><td><code>CredentialDescriptor[]</code></td><td>❌</td><td><code>[]</code></td><td>允许的凭据列表</td><td><code>[{id, type, transports}]</code></td></tr><tr><td><code>challenge</code></td><td><code>string | Uint8Array</code></td><td>❌</td><td>自动生成</td><td>防重放挑战</td><td><code>&quot;auth-challenge&quot;</code></td></tr><tr><td><code>timeout</code></td><td><code>number</code></td><td>❌</td><td><code>60000</code></td><td>超时时间（毫秒）</td><td><code>120000</code></td></tr><tr><td><code>userVerification</code></td><td><code>UserVerificationRequirement</code></td><td>❌</td><td><code>&quot;preferred&quot;</code></td><td>用户验证要求</td><td><code>&quot;required&quot;</code></td></tr><tr><td><code>extensions</code></td><td><code>AuthenticationExtensionsClientInputs</code></td><td>❌</td><td><code>{}</code></td><td>扩展功能配置</td><td><code>{uvm: true}</code></td></tr></tbody></table><h3 id="verifyauthenticationresponse-参数" tabindex="-1"><code>verifyAuthenticationResponse()</code> 参数 <a class="header-anchor" href="#verifyauthenticationresponse-参数" aria-label="Permalink to &quot;\`verifyAuthenticationResponse()\` 参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>response</code></td><td><code>AuthenticationResponseJSON</code></td><td>✅</td><td>前端返回的认证响应</td><td><code>{id, rawId, type, response}</code></td></tr><tr><td><code>expectedChallenge</code></td><td><code>string</code></td><td>✅</td><td>期望的挑战值</td><td><code>&quot;expected-challenge&quot;</code></td></tr><tr><td><code>expectedOrigin</code></td><td><code>string</code></td><td>✅</td><td>期望的来源</td><td><code>&quot;https://example.com&quot;</code></td></tr><tr><td><code>expectedRPID</code></td><td><code>string</code></td><td>✅</td><td>期望的 RP ID</td><td><code>&quot;example.com&quot;</code></td></tr><tr><td><code>authenticator</code></td><td><code>AuthenticatorDevice</code></td><td>✅</td><td>存储的认证器信息</td><td><code>{credentialID, credentialPublicKey, counter}</code></td></tr><tr><td><code>requireUserVerification</code></td><td><code>boolean</code></td><td>❌</td><td>是否要求用户验证</td><td><code>true</code></td></tr></tbody></table><h3 id="认证响应结构" tabindex="-1">认证响应结构 <a class="header-anchor" href="#认证响应结构" aria-label="Permalink to &quot;认证响应结构&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>id</code></td><td><code>string</code></td><td>凭据 ID（字符串形式）</td><td><code>&quot;credential-id-string&quot;</code></td></tr><tr><td><code>rawId</code></td><td><code>string</code></td><td>凭据 ID（Base64URL 编码）</td><td><code>&quot;Y3JlZGVudGlhbC1pZA&quot;</code></td></tr><tr><td><code>type</code></td><td><code>string</code></td><td>凭据类型</td><td><code>&quot;public-key&quot;</code></td></tr><tr><td><code>response.clientDataJSON</code></td><td><code>string</code></td><td>客户端数据（Base64URL 编码）</td><td><code>&quot;eyJ0eXBlIjoi...&quot;</code></td></tr><tr><td><code>response.authenticatorData</code></td><td><code>string</code></td><td>认证器数据（Base64URL 编码）</td><td><code>&quot;SZYN5YgOjGh0NBcPZHZgW4...&quot;</code></td></tr><tr><td><code>response.signature</code></td><td><code>string</code></td><td>签名（Base64URL 编码）</td><td><code>&quot;MEUCIQDx...&quot;</code></td></tr><tr><td><code>response.userHandle</code></td><td><code>string | null</code></td><td>用户句柄（Base64URL 编码）</td><td><code>&quot;dXNlci0xMjM&quot;</code></td></tr></tbody></table><hr><h2 id="类型定义对照表" tabindex="-1">类型定义对照表 <a class="header-anchor" href="#类型定义对照表" aria-label="Permalink to &quot;类型定义对照表&quot;">​</a></h2><h3 id="基础类型" tabindex="-1">基础类型 <a class="header-anchor" href="#基础类型" aria-label="Permalink to &quot;基础类型&quot;">​</a></h3><table tabindex="0"><thead><tr><th>类型</th><th>说明</th><th>可选值</th><th>示例</th></tr></thead><tbody><tr><td><code>AttestationType</code></td><td>证明类型</td><td><code>&quot;none&quot;</code>, <code>&quot;direct&quot;</code>, <code>&quot;indirect&quot;</code>, <code>&quot;enterprise&quot;</code></td><td><code>&quot;none&quot;</code></td></tr><tr><td><code>UserVerificationRequirement</code></td><td>用户验证要求</td><td><code>&quot;required&quot;</code>, <code>&quot;preferred&quot;</code>, <code>&quot;discouraged&quot;</code></td><td><code>&quot;preferred&quot;</code></td></tr><tr><td><code>ResidentKeyRequirement</code></td><td>可发现凭据要求</td><td><code>&quot;required&quot;</code>, <code>&quot;preferred&quot;</code>, <code>&quot;discouraged&quot;</code></td><td><code>&quot;required&quot;</code></td></tr><tr><td><code>AuthenticatorAttachment</code></td><td>认证器附加方式</td><td><code>&quot;platform&quot;</code>, <code>&quot;cross-platform&quot;</code></td><td><code>&quot;platform&quot;</code></td></tr><tr><td><code>PublicKeyCredentialType</code></td><td>公钥凭据类型</td><td><code>&quot;public-key&quot;</code></td><td><code>&quot;public-key&quot;</code></td></tr></tbody></table><h3 id="认证器选择条件" tabindex="-1">认证器选择条件 <a class="header-anchor" href="#认证器选择条件" aria-label="Permalink to &quot;认证器选择条件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>authenticatorAttachment</code></td><td><code>AuthenticatorAttachment</code></td><td>认证器附加方式</td><td><code>&quot;platform&quot;</code></td></tr><tr><td><code>residentKey</code></td><td><code>ResidentKeyRequirement</code></td><td>可发现凭据要求</td><td><code>&quot;required&quot;</code></td></tr><tr><td><code>userVerification</code></td><td><code>UserVerificationRequirement</code></td><td>用户验证要求</td><td><code>&quot;preferred&quot;</code></td></tr><tr><td><code>requireResidentKey</code></td><td><code>boolean</code></td><td>是否需要可发现凭据（已废弃）</td><td><code>true</code></td></tr></tbody></table><h3 id="凭据描述符" tabindex="-1">凭据描述符 <a class="header-anchor" href="#凭据描述符" aria-label="Permalink to &quot;凭据描述符&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>id</code></td><td><code>Uint8Array</code></td><td>凭据 ID（二进制）</td><td><code>Buffer.from(&quot;id&quot;, &quot;base64url&quot;)</code></td></tr><tr><td><code>type</code></td><td><code>PublicKeyCredentialType</code></td><td>凭据类型</td><td><code>&quot;public-key&quot;</code></td></tr><tr><td><code>transports</code></td><td><code>AuthenticatorTransport[]</code></td><td>传输方式列表</td><td><code>[&quot;internal&quot;, &quot;hybrid&quot;]</code></td></tr></tbody></table><hr><h2 id="错误码对照表" tabindex="-1">错误码对照表 <a class="header-anchor" href="#错误码对照表" aria-label="Permalink to &quot;错误码对照表&quot;">​</a></h2><h3 id="浏览器错误" tabindex="-1">浏览器错误 <a class="header-anchor" href="#浏览器错误" aria-label="Permalink to &quot;浏览器错误&quot;">​</a></h3><table tabindex="0"><thead><tr><th>错误名称</th><th>说明</th><th>常见原因</th><th>解决方案</th></tr></thead><tbody><tr><td><code>NotAllowedError</code></td><td>操作不被允许</td><td>用户取消、超时、策略限制</td><td>提示用户重试或使用其他方式</td></tr><tr><td><code>SecurityError</code></td><td>安全错误</td><td>rpID 不匹配、HTTPS 问题</td><td>检查域名配置和 HTTPS 设置</td></tr><tr><td><code>NotSupportedError</code></td><td>不支持错误</td><td>浏览器或设备不支持</td><td>降级到传统认证方式</td></tr><tr><td><code>InvalidStateError</code></td><td>无效状态错误</td><td>认证器状态异常</td><td>重新初始化认证器</td></tr><tr><td><code>ConstraintError</code></td><td>约束错误</td><td>参数约束不满足</td><td>检查参数配置</td></tr><tr><td><code>UnknownError</code></td><td>未知错误</td><td>其他未分类错误</td><td>记录日志并降级处理</td></tr></tbody></table><h3 id="服务端验证错误" tabindex="-1">服务端验证错误 <a class="header-anchor" href="#服务端验证错误" aria-label="Permalink to &quot;服务端验证错误&quot;">​</a></h3><table tabindex="0"><thead><tr><th>错误类型</th><th>说明</th><th>检查项</th></tr></thead><tbody><tr><td><code>ChallengeMismatch</code></td><td>挑战值不匹配</td><td>验证 challenge 是否一致</td></tr><tr><td><code>OriginMismatch</code></td><td>来源不匹配</td><td>验证 origin 是否正确</td></tr><tr><td><code>RPIDMismatch</code></td><td>RP ID 不匹配</td><td>验证 rpId 是否一致</td></tr><tr><td><code>SignatureInvalid</code></td><td>签名无效</td><td>验证签名是否正确</td></tr><tr><td><code>CounterNotIncreased</code></td><td>计数器未递增</td><td>检查 signCount 是否递增</td></tr><tr><td><code>UserVerificationFailed</code></td><td>用户验证失败</td><td>检查 UV 标志位</td></tr></tbody></table><hr><h2 id="算法标识符对照表" tabindex="-1">算法标识符对照表 <a class="header-anchor" href="#算法标识符对照表" aria-label="Permalink to &quot;算法标识符对照表&quot;">​</a></h2><h3 id="cose-算法标识符" tabindex="-1">COSE 算法标识符 <a class="header-anchor" href="#cose-算法标识符" aria-label="Permalink to &quot;COSE 算法标识符&quot;">​</a></h3><table tabindex="0"><thead><tr><th>ID</th><th>算法名称</th><th>说明</th><th>推荐度</th><th>兼容性</th></tr></thead><tbody><tr><td><code>-7</code></td><td>ES256</td><td>ECDSA w/ SHA-256</td><td>⭐⭐⭐⭐⭐</td><td>最广泛支持</td></tr><tr><td><code>-8</code></td><td>EdDSA</td><td>EdDSA 签名算法</td><td>⭐⭐⭐⭐</td><td>现代推荐</td></tr><tr><td><code>-257</code></td><td>RS256</td><td>RSA w/ SHA-256</td><td>⭐⭐⭐</td><td>兼容性好</td></tr><tr><td><code>-35</code></td><td>ES384</td><td>ECDSA w/ SHA-384</td><td>⭐⭐</td><td>部分支持</td></tr><tr><td><code>-36</code></td><td>ES512</td><td>ECDSA w/ SHA-512</td><td>⭐⭐</td><td>部分支持</td></tr><tr><td><code>-258</code></td><td>RS384</td><td>RSA w/ SHA-384</td><td>⭐</td><td>较少使用</td></tr><tr><td><code>-259</code></td><td>RS512</td><td>RSA w/ SHA-512</td><td>⭐</td><td>较少使用</td></tr><tr><td><code>-38</code></td><td>PS256</td><td>RSA-PSS w/ SHA-256</td><td>⭐⭐</td><td>现代算法</td></tr><tr><td><code>-39</code></td><td>PS384</td><td>RSA-PSS w/ SHA-384</td><td>⭐</td><td>较少使用</td></tr><tr><td><code>-40</code></td><td>PS512</td><td>RSA-PSS w/ SHA-512</td><td>⭐</td><td>较少使用</td></tr></tbody></table><h3 id="算法选择建议" tabindex="-1">算法选择建议 <a class="header-anchor" href="#算法选择建议" aria-label="Permalink to &quot;算法选择建议&quot;">​</a></h3><table tabindex="0"><thead><tr><th>场景</th><th>推荐算法</th><th>说明</th></tr></thead><tbody><tr><td>生产环境</td><td><code>[-7, -257]</code></td><td>ES256 + RS256，兼容性最佳</td></tr><tr><td>现代应用</td><td><code>[-7, -8]</code></td><td>ES256 + EdDSA，性能最佳</td></tr><tr><td>兼容性优先</td><td><code>[-7, -257, -8]</code></td><td>包含所有主流算法</td></tr><tr><td>安全优先</td><td><code>[-7, -8, -38]</code></td><td>现代算法组合</td></tr></tbody></table><hr><h2 id="传输方式对照表" tabindex="-1">传输方式对照表 <a class="header-anchor" href="#传输方式对照表" aria-label="Permalink to &quot;传输方式对照表&quot;">​</a></h2><h3 id="认证器传输方式" tabindex="-1">认证器传输方式 <a class="header-anchor" href="#认证器传输方式" aria-label="Permalink to &quot;认证器传输方式&quot;">​</a></h3><table tabindex="0"><thead><tr><th>传输方式</th><th>说明</th><th>使用场景</th><th>示例设备</th></tr></thead><tbody><tr><td><code>internal</code></td><td>平台内置认证器</td><td>手机指纹、Face ID、Windows Hello</td><td>iPhone、Android、Windows PC</td></tr><tr><td><code>usb</code></td><td>USB 连接</td><td>USB 安全钥匙</td><td>YubiKey、Feitian</td></tr><tr><td><code>nfc</code></td><td>近场通信</td><td>NFC 安全钥匙</td><td>NFC YubiKey</td></tr><tr><td><code>ble</code></td><td>蓝牙低功耗</td><td>蓝牙安全钥匙</td><td>蓝牙 YubiKey</td></tr><tr><td><code>hybrid</code></td><td>混合传输</td><td>跨设备认证</td><td>手机扫码登录</td></tr><tr><td><code>cable</code></td><td>有线传输</td><td>已废弃，被 hybrid 替代</td><td>-</td></tr><tr><td><code>smart-card</code></td><td>智能卡</td><td>企业环境</td><td>企业智能卡</td></tr></tbody></table><h3 id="传输方式选择策略" tabindex="-1">传输方式选择策略 <a class="header-anchor" href="#传输方式选择策略" aria-label="Permalink to &quot;传输方式选择策略&quot;">​</a></h3><table tabindex="0"><thead><tr><th>场景</th><th>推荐传输方式</th><th>说明</th></tr></thead><tbody><tr><td>移动应用</td><td><code>[&quot;internal&quot;, &quot;hybrid&quot;]</code></td><td>优先本机，支持跨设备</td></tr><tr><td>桌面应用</td><td><code>[&quot;internal&quot;, &quot;usb&quot;, &quot;hybrid&quot;]</code></td><td>支持多种方式</td></tr><tr><td>企业环境</td><td><code>[&quot;usb&quot;, &quot;nfc&quot;, &quot;smart-card&quot;]</code></td><td>硬件安全优先</td></tr><tr><td>通用场景</td><td><code>[&quot;internal&quot;, &quot;usb&quot;, &quot;nfc&quot;, &quot;ble&quot;, &quot;hybrid&quot;]</code></td><td>最大兼容性</td></tr></tbody></table><hr><h2 id="扩展功能对照表" tabindex="-1">扩展功能对照表 <a class="header-anchor" href="#扩展功能对照表" aria-label="Permalink to &quot;扩展功能对照表&quot;">​</a></h2><h3 id="注册扩展" tabindex="-1">注册扩展 <a class="header-anchor" href="#注册扩展" aria-label="Permalink to &quot;注册扩展&quot;">​</a></h3><table tabindex="0"><thead><tr><th>扩展名</th><th>类型</th><th>说明</th><th>返回值</th><th>使用场景</th></tr></thead><tbody><tr><td><code>credProps</code></td><td><code>boolean</code></td><td>凭据属性</td><td><code>{rk?: boolean}</code></td><td>获取可发现凭据信息</td></tr><tr><td><code>largeBlob</code></td><td><code>{support: string}</code></td><td>大对象存储</td><td><code>{supported: boolean}</code></td><td>存储用户数据</td></tr><tr><td><code>prf</code></td><td><code>{eval: object}</code></td><td>伪随机函数</td><td><code>{enabled: boolean}</code></td><td>密钥派生</td></tr><tr><td><code>appidExclude</code></td><td><code>string</code></td><td>U2F 兼容排除</td><td><code>{value: boolean}</code></td><td>历史迁移</td></tr></tbody></table><h3 id="认证扩展" tabindex="-1">认证扩展 <a class="header-anchor" href="#认证扩展" aria-label="Permalink to &quot;认证扩展&quot;">​</a></h3><table tabindex="0"><thead><tr><th>扩展名</th><th>类型</th><th>说明</th><th>返回值</th><th>使用场景</th></tr></thead><tbody><tr><td><code>appid</code></td><td><code>string</code></td><td>U2F 兼容</td><td><code>{value: boolean}</code></td><td>历史迁移</td></tr><tr><td><code>uvm</code></td><td><code>boolean</code></td><td>用户验证方法</td><td><code>{uvm: number[][]}</code></td><td>风控审计</td></tr><tr><td><code>hmacCreateSecret</code></td><td><code>boolean</code></td><td>HMAC 密钥创建</td><td><code>{hmacCreateSecret: boolean}</code></td><td>对称加密</td></tr><tr><td><code>minPinLength</code></td><td><code>boolean</code></td><td>最小 PIN 长度</td><td><code>{minPinLength: number}</code></td><td>PIN 策略</td></tr></tbody></table><h3 id="扩展配置示例" tabindex="-1">扩展配置示例 <a class="header-anchor" href="#扩展配置示例" aria-label="Permalink to &quot;扩展配置示例&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注册扩展</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> registrationExtensions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  credProps: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取凭据属性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  largeBlob: { support: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;preferred&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 大对象存储</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  prf: { eval: { first: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) } }, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 伪随机函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 认证扩展</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> authenticationExtensions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  uvm: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 用户验证方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  appid: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/u2f-app-id.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// U2F 兼容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hmacCreateSecret: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// HMAC 密钥创建</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><hr><h2 id="常用配置模板" tabindex="-1">常用配置模板 <a class="header-anchor" href="#常用配置模板" aria-label="Permalink to &quot;常用配置模板&quot;">​</a></h2><h3 id="标准-passkey-配置" tabindex="-1">标准 Passkey 配置 <a class="header-anchor" href="#标准-passkey-配置" aria-label="Permalink to &quot;标准 Passkey 配置&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注册配置</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> standardRegistration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rpName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;我的应用&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rpID: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userID: Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userName: userEmail,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userDisplayName: userDisplayName,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  supportedAlgorithmIDs: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">257</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  authenticatorSelection: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    residentKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;required&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    userVerification: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;preferred&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  attestationType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;none&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extensions: { credProps: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">120000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 认证配置</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> standardAuthentication</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rpID: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userVerification: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;preferred&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">120000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // allowCredentials 留空支持可发现凭据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="高安全配置" tabindex="-1">高安全配置 <a class="header-anchor" href="#高安全配置" aria-label="Permalink to &quot;高安全配置&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 高安全注册配置</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> secureRegistration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rpName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;企业后台&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rpID: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userID: Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userName: userEmail,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userDisplayName: userDisplayName,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  supportedAlgorithmIDs: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  authenticatorSelection: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    residentKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;required&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    userVerification: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;required&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    authenticatorAttachment: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;platform&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  attestationType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;direct&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extensions: { credProps: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 高安全认证配置</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> secureAuthentication</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rpID: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userVerification: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;required&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extensions: { uvm: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="兼容性配置" tabindex="-1">兼容性配置 <a class="header-anchor" href="#兼容性配置" aria-label="Permalink to &quot;兼容性配置&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 兼容性优先配置</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> compatibilityRegistration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rpName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;通用应用&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rpID: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userID: Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userName: userEmail,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userDisplayName: userDisplayName,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  supportedAlgorithmIDs: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">257</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  authenticatorSelection: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    residentKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;preferred&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    userVerification: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;preferred&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  attestationType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;none&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extensions: { credProps: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">180000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><hr><h2 id="设备识别对照表" tabindex="-1">设备识别对照表 <a class="header-anchor" href="#设备识别对照表" aria-label="Permalink to &quot;设备识别对照表&quot;">​</a></h2><h3 id="aaguid-映射表" tabindex="-1">AAGUID 映射表 <a class="header-anchor" href="#aaguid-映射表" aria-label="Permalink to &quot;AAGUID 映射表&quot;">​</a></h3><table tabindex="0"><thead><tr><th>AAGUID</th><th>设备/服务</th><th>说明</th></tr></thead><tbody><tr><td><code>ea9b8d66-4d01-1d21-3ce4-b6b48cb575d4</code></td><td>Google Password Manager</td><td>Android 设备</td></tr><tr><td><code>adce0002-35bc-c60a-648b-0b25f1f05503</code></td><td>Chrome on Mac</td><td>macOS Chrome</td></tr><tr><td><code>08987058-cadc-4b81-b6e1-30de50dcbe96</code></td><td>Windows Hello</td><td>Windows 10/11</td></tr><tr><td><code>9ddd1817-af5a-4672-a2b9-3e3dd95000a9</code></td><td>Windows Hello</td><td>Windows 10/11</td></tr><tr><td><code>6028b017-b1d4-4c02-b4b3-afcdafc96bb2</code></td><td>Windows Hello</td><td>Windows 10/11</td></tr><tr><td><code>fbfc3007-154e-4ecc-8c0b-6e020557d7bd</code></td><td>iCloud Keychain</td><td>iOS/macOS</td></tr><tr><td><code>00000000-0000-0000-0000-000000000000</code></td><td>Apple/Unknown</td><td>iOS/macOS（隐私模式）</td></tr><tr><td><code>bada5566-a7aa-401f-bd96-45619a55120d</code></td><td>1Password</td><td>第三方密码管理器</td></tr><tr><td><code>d548826e-79b4-db40-a3d8-11116f7e8349</code></td><td>Bitwarden</td><td>第三方密码管理器</td></tr><tr><td><code>531126d6-e717-415c-9320-3d9aa6981239</code></td><td>Dashlane</td><td>第三方密码管理器</td></tr></tbody></table><h3 id="设备识别函数" tabindex="-1">设备识别函数 <a class="header-anchor" href="#设备识别函数" aria-label="Permalink to &quot;设备识别函数&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> identifyDevice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">aaguid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> deviceMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;ea9b8d66-4d01-1d21-3ce4-b6b48cb575d4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Google Password Manager&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;adce0002-35bc-c60a-648b-0b25f1f05503&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Chrome on Mac&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;08987058-cadc-4b81-b6e1-30de50dcbe96&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Windows Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;9ddd1817-af5a-4672-a2b9-3e3dd95000a9&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Windows Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;6028b017-b1d4-4c02-b4b3-afcdafc96bb2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Windows Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;fbfc3007-154e-4ecc-8c0b-6e020557d7bd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;iCloud Keychain&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;00000000-0000-0000-0000-000000000000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Apple/Unknown&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;bada5566-a7aa-401f-bd96-45619a55120d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1Password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;d548826e-79b4-db40-a3d8-11116f7e8349&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bitwarden&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;531126d6-e717-415c-9320-3d9aa6981239&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Dashlane&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> deviceMap[aaguid] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Unknown Device&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>本对照表涵盖了 WebAuthn/Passkeys 开发中的主要 API、参数和配置选项。在实际开发中，建议：</p><ol><li><strong>根据场景选择合适的配置</strong>：不同应用场景需要不同的安全级别和兼容性要求</li><li><strong>实现完整的错误处理</strong>：覆盖所有可能的错误情况，提供用户友好的提示</li><li><strong>进行充分的测试</strong>：在不同设备、浏览器和网络环境下测试</li><li><strong>监控和优化</strong>：收集性能数据，持续优化用户体验</li></ol><p>通过合理使用这些 API 和配置，可以构建安全、便捷的通行密钥认证系统。</p>`,73)])])}const E=s(e,[["render",n]]);export{k as __pageData,E as default};
