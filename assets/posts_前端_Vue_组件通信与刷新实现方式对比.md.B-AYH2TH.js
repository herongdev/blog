import{_ as i,c as a,o as t,ag as n}from"./chunks/framework.oqSrIbQK.js";const g=JSON.parse('{"title":"ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯”","description":"","frontmatter":{"title":"ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯”","date":"2025-11-08T00:00:00.000Z","tags":["Vue","ç»„ä»¶é€šä¿¡","æœ€ä½³å®è·µ","å“åº”å¼","çŠ¶æ€ç®¡ç†"]},"headers":[],"relativePath":"posts/å‰ç«¯/Vue/ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯”.md","filePath":"posts/å‰ç«¯/Vue/ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯”.md","lastUpdated":1764331727000}'),h={name:"posts/å‰ç«¯/Vue/ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯”.md"};function l(p,s,k,e,r,E){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯”" tabindex="-1">ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯” <a class="header-anchor" href="#ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯”" aria-label="Permalink to &quot;ç»„ä»¶é€šä¿¡ä¸åˆ·æ–°å®ç°æ–¹å¼å¯¹æ¯”&quot;">â€‹</a></h1><h2 id="å®ç°æ–¹å¼å¯¹æ¯”è¡¨" tabindex="-1">å®ç°æ–¹å¼å¯¹æ¯”è¡¨ <a class="header-anchor" href="#å®ç°æ–¹å¼å¯¹æ¯”è¡¨" aria-label="Permalink to &quot;å®ç°æ–¹å¼å¯¹æ¯”è¡¨&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>æ–¹å¼</th><th>å®ç°åŸç†</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>ä»£ç å¤æ‚åº¦</th></tr></thead><tbody><tr><td><strong>1. çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•</strong>&lt;br/&gt;(ref + defineExpose)</td><td>çˆ¶ç»„ä»¶é€šè¿‡ ref è·å–å­ç»„ä»¶å®ä¾‹ï¼Œè°ƒç”¨å­ç»„ä»¶æš´éœ²çš„æ–¹æ³•</td><td>â€¢ ç›´æ¥æ˜ç¡®&lt;br/&gt;â€¢ ç±»å‹å®‰å…¨ï¼ˆTypeScriptï¼‰&lt;br/&gt;â€¢ è°ƒç”¨æ—¶æœºå¯æ§</td><td>â€¢ å¼ºè€¦åˆï¼ˆçˆ¶ç»„ä»¶éœ€è¦çŸ¥é“å­ç»„ä»¶æ–¹æ³•åï¼‰&lt;br/&gt;â€¢ éœ€è¦ç»´æŠ¤ ref&lt;br/&gt;â€¢ è¿åå•å‘æ•°æ®æµåŸåˆ™</td><td>â€¢ éœ€è¦ç²¾ç¡®æ§åˆ¶è°ƒç”¨æ—¶æœº&lt;br/&gt;â€¢ å­ç»„ä»¶æ–¹æ³•éœ€è¦è¢«å¤–éƒ¨è°ƒç”¨</td><td>â­â­â­</td></tr><tr><td><strong>2. å­ç»„ä»¶ç›‘å¬çˆ¶ç»„ä»¶çŠ¶æ€</strong>&lt;br/&gt;(watch props)</td><td>çˆ¶ç»„ä»¶é€šè¿‡ props ä¼ é€’çŠ¶æ€å˜åŒ–ï¼Œå­ç»„ä»¶ watch ç›‘å¬</td><td>â€¢ ç¬¦åˆå•å‘æ•°æ®æµ&lt;br/&gt;â€¢ è§£è€¦ï¼ˆçˆ¶ç»„ä»¶åªéœ€æ›´æ–°çŠ¶æ€ï¼‰&lt;br/&gt;â€¢ å“åº”å¼è‡ªåŠ¨è§¦å‘&lt;br/&gt;â€¢ æ˜“äºæµ‹è¯•</td><td>â€¢ éœ€è¦è®¾è®¡åˆé€‚çš„çŠ¶æ€æ ‡è¯†&lt;br/&gt;â€¢ å¯èƒ½è§¦å‘ä¸å¿…è¦çš„åˆ·æ–°</td><td>â€¢ çŠ¶æ€é©±åŠ¨çš„åˆ·æ–°&lt;br/&gt;â€¢ å¤šä¸ªå­ç»„ä»¶éœ€è¦åŒæ­¥åˆ·æ–°</td><td>â­â­</td></tr><tr><td><strong>3. äº‹ä»¶æ€»çº¿/å…¨å±€çŠ¶æ€</strong>&lt;br/&gt;(EventBus/Pinia)</td><td>é€šè¿‡å…¨å±€äº‹ä»¶æˆ–çŠ¶æ€ç®¡ç†è§¦å‘åˆ·æ–°</td><td>â€¢ å®Œå…¨è§£è€¦&lt;br/&gt;â€¢ è·¨ç»„ä»¶é€šä¿¡&lt;br/&gt;â€¢ æ”¯æŒä¸€å¯¹å¤š</td><td>â€¢ éš¾ä»¥è¿½è¸ªæ•°æ®æµ&lt;br/&gt;â€¢ å¯èƒ½é€ æˆæ€§èƒ½é—®é¢˜&lt;br/&gt;â€¢ è°ƒè¯•å›°éš¾</td><td>â€¢ è·¨å±‚çº§é€šä¿¡&lt;br/&gt;â€¢ å¤šä¸ªä¸ç›¸å…³ç»„ä»¶éœ€è¦åŒæ­¥</td><td>â­â­â­â­</td></tr><tr><td><strong>4. Provide/Inject</strong>&lt;br/&gt;(ä¾èµ–æ³¨å…¥)</td><td>çˆ¶ç»„ä»¶ provide åˆ·æ–°å‡½æ•°ï¼Œå­ç»„ä»¶ inject ä½¿ç”¨</td><td>â€¢ è·¨å±‚çº§ä¼ é€’&lt;br/&gt;â€¢ é¿å… prop drilling&lt;br/&gt;â€¢ ç±»å‹å®‰å…¨</td><td>â€¢ ä¾èµ–å…³ç³»ä¸æ˜ç¡®&lt;br/&gt;â€¢ å¯èƒ½æ»¥ç”¨&lt;br/&gt;â€¢ è°ƒè¯•å›°éš¾</td><td>â€¢ æ·±å±‚åµŒå¥—ç»„ä»¶&lt;br/&gt;â€¢ å¤šä¸ªå­ç»„ä»¶éœ€è¦åŒä¸€åŠŸèƒ½</td><td>â­â­â­</td></tr><tr><td><strong>5. Props ä¼ é€’å›è°ƒå‡½æ•°</strong>&lt;br/&gt;(callback props)</td><td>çˆ¶ç»„ä»¶ä¼ é€’å›è°ƒå‡½æ•°ï¼Œå­ç»„ä»¶åœ¨é€‚å½“æ—¶æœºè°ƒç”¨</td><td>â€¢ ç®€å•ç›´æ¥&lt;br/&gt;â€¢ ç¬¦åˆ React æ¨¡å¼&lt;br/&gt;â€¢ æ˜“äºç†è§£</td><td>â€¢ éœ€è¦ä¼ é€’å‡½æ•°å¼•ç”¨&lt;br/&gt;â€¢ å¯èƒ½é€ æˆä¸å¿…è¦çš„é‡æ¸²æŸ“</td><td>â€¢ ç®€å•çš„çˆ¶å­é€šä¿¡&lt;br/&gt;â€¢ éœ€è¦åŒå‘é€šä¿¡</td><td>â­â­</td></tr><tr><td><strong>6. ç»„åˆå¼å‡½æ•°è¿”å›åˆ·æ–°å‡½æ•°</strong>&lt;br/&gt;(composable pattern)</td><td>é€šè¿‡ composable è¿”å›åˆ·æ–°å‡½æ•°ï¼Œçˆ¶å­ç»„ä»¶å…±äº«</td><td>â€¢ é€»è¾‘å¤ç”¨&lt;br/&gt;â€¢ ç»Ÿä¸€ç®¡ç†&lt;br/&gt;â€¢ æ˜“äºæµ‹è¯•</td><td>â€¢ éœ€è¦åˆç†è®¾è®¡ composable&lt;br/&gt;â€¢ å¯èƒ½è¿‡åº¦è®¾è®¡</td><td>â€¢ å¤æ‚çš„çŠ¶æ€ç®¡ç†&lt;br/&gt;â€¢ éœ€è¦é€»è¾‘å¤ç”¨</td><td>â­â­â­</td></tr></tbody></table><hr><h2 id="è¯¦ç»†ä»£ç ç¤ºä¾‹" tabindex="-1">è¯¦ç»†ä»£ç ç¤ºä¾‹ <a class="header-anchor" href="#è¯¦ç»†ä»£ç ç¤ºä¾‹" aria-label="Permalink to &quot;è¯¦ç»†ä»£ç ç¤ºä¾‹&quot;">â€‹</a></h2><h3 id="æ–¹å¼-1-çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•-ref-defineexpose" tabindex="-1">æ–¹å¼ 1: çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³• (ref + defineExpose) <a class="header-anchor" href="#æ–¹å¼-1-çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•-ref-defineexpose" aria-label="Permalink to &quot;æ–¹å¼ 1: çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³• (ref + defineExpose)&quot;">â€‹</a></h3><p><strong>çˆ¶ç»„ä»¶ (OrderTabs.vue)</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ClosedOrder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;closeOrderRef&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> closeOrderRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">refresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useClosePosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ·æ–°æ—¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleRefresh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  refresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  closeOrderRef.value?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchCloseOrdersSum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰‹åŠ¨è°ƒç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>å­ç»„ä»¶ (CloseOrder.vue)</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetchCloseOrdersSum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fetchSum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineExpose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fetchCloseOrdersSum, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æš´éœ²æ–¹æ³•ä¾›çˆ¶ç»„ä»¶è°ƒç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h3 id="æ–¹å¼-2-å­ç»„ä»¶ç›‘å¬çˆ¶ç»„ä»¶çŠ¶æ€-å½“å‰å®ç°-âœ…" tabindex="-1">æ–¹å¼ 2: å­ç»„ä»¶ç›‘å¬çˆ¶ç»„ä»¶çŠ¶æ€ (å½“å‰å®ç°) âœ… <a class="header-anchor" href="#æ–¹å¼-2-å­ç»„ä»¶ç›‘å¬çˆ¶ç»„ä»¶çŠ¶æ€-å½“å‰å®ç°-âœ…" aria-label="Permalink to &quot;æ–¹å¼ 2: å­ç»„ä»¶ç›‘å¬çˆ¶ç»„ä»¶çŠ¶æ€ (å½“å‰å®ç°) âœ…&quot;">â€‹</a></h3><p><strong>çˆ¶ç»„ä»¶ (OrderTabs.vue)</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ClosedOrder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :refresh-key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;closedOrderRefreshKey&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">refresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">refreshKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useClosePosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åªéœ€æ›´æ–°çŠ¶æ€ï¼Œå­ç»„ä»¶è‡ªåŠ¨å“åº”</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleRefresh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  refresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// refreshKey è‡ªåŠ¨é€’å¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>å­ç»„ä»¶ (CloseOrder.vue)</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  refreshKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}&gt;()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> props.refreshKey,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">oldKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (newKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> oldKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> oldKey) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      fetchCloseOrdersSum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è‡ªåŠ¨å“åº”çŠ¶æ€å˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h3 id="æ–¹å¼-3-äº‹ä»¶æ€»çº¿-å…¨å±€çŠ¶æ€" tabindex="-1">æ–¹å¼ 3: äº‹ä»¶æ€»çº¿/å…¨å±€çŠ¶æ€ <a class="header-anchor" href="#æ–¹å¼-3-äº‹ä»¶æ€»çº¿-å…¨å±€çŠ¶æ€" aria-label="Permalink to &quot;æ–¹å¼ 3: äº‹ä»¶æ€»çº¿/å…¨å±€çŠ¶æ€&quot;">â€‹</a></h3><p><strong>ä½¿ç”¨ Pinia Store</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// store/refresh.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> useRefreshStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;refresh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> refreshKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> triggerRefresh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    refreshKey.value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { refreshKey, triggerRefresh };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>çˆ¶ç»„ä»¶</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> refreshStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRefreshStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleRefresh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  refreshStore.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">triggerRefresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>å­ç»„ä»¶</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> refreshStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRefreshStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> refreshStore.refreshKey,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fetchCloseOrdersSum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h3 id="æ–¹å¼-4-provide-inject" tabindex="-1">æ–¹å¼ 4: Provide/Inject <a class="header-anchor" href="#æ–¹å¼-4-provide-inject" aria-label="Permalink to &quot;æ–¹å¼ 4: Provide/Inject&quot;">â€‹</a></h3><p><strong>çˆ¶ç»„ä»¶</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> refreshKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> triggerRefresh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  refreshKey.value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">provide</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;refreshCloseOrder&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  refreshKey: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readonly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(refreshKey),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  triggerRefresh,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>å­ç»„ä»¶</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">refreshKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">triggerRefresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;refreshCloseOrder&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> refreshKey.value,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fetchCloseOrdersSum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h3 id="æ–¹å¼-5-props-ä¼ é€’å›è°ƒå‡½æ•°" tabindex="-1">æ–¹å¼ 5: Props ä¼ é€’å›è°ƒå‡½æ•° <a class="header-anchor" href="#æ–¹å¼-5-props-ä¼ é€’å›è°ƒå‡½æ•°" aria-label="Permalink to &quot;æ–¹å¼ 5: Props ä¼ é€’å›è°ƒå‡½æ•°&quot;">â€‹</a></h3><p><strong>çˆ¶ç»„ä»¶</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ClosedOrder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :on-refresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handleRefresh&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleRefresh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // çˆ¶ç»„ä»¶çš„åˆ·æ–°é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  refresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>å­ç»„ä»¶</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onRefresh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}&gt;()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨éœ€è¦æ—¶è°ƒç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someAction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  props.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onRefresh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?.()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h3 id="æ–¹å¼-6-ç»„åˆå¼å‡½æ•°è¿”å›åˆ·æ–°å‡½æ•°" tabindex="-1">æ–¹å¼ 6: ç»„åˆå¼å‡½æ•°è¿”å›åˆ·æ–°å‡½æ•° <a class="header-anchor" href="#æ–¹å¼-6-ç»„åˆå¼å‡½æ•°è¿”å›åˆ·æ–°å‡½æ•°" aria-label="Permalink to &quot;æ–¹å¼ 6: ç»„åˆå¼å‡½æ•°è¿”å›åˆ·æ–°å‡½æ•°&quot;">â€‹</a></h3><p><strong>Composable (useClosePosition.ts)</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useClosePosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> refreshKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç»Ÿä¸€çš„åˆ·æ–°å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> refreshAll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    refreshKey.value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¯ä»¥åœ¨è¿™é‡Œç»Ÿä¸€å¤„ç†æ‰€æœ‰åˆ·æ–°é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    refreshKey,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    refreshAll,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... å…¶ä»–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>çˆ¶ç»„ä»¶</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">refreshAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useClosePosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleRefresh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  refreshAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç»Ÿä¸€åˆ·æ–°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>å­ç»„ä»¶</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯ä»¥å…±äº«åŒä¸€ä¸ª composable å®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆ–è€…é€šè¿‡ props ä¼ é€’ refreshKey</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h2 id="æ¨èé€‰æ‹©æŒ‡å—" tabindex="-1">æ¨èé€‰æ‹©æŒ‡å— <a class="header-anchor" href="#æ¨èé€‰æ‹©æŒ‡å—" aria-label="Permalink to &quot;æ¨èé€‰æ‹©æŒ‡å—&quot;">â€‹</a></h2><h3 id="ğŸ¯-å½“å‰åœºæ™¯æ¨è-æ–¹å¼-2-å­ç»„ä»¶ç›‘å¬çŠ¶æ€" tabindex="-1">ğŸ¯ å½“å‰åœºæ™¯æ¨èï¼š<strong>æ–¹å¼ 2 (å­ç»„ä»¶ç›‘å¬çŠ¶æ€)</strong> <a class="header-anchor" href="#ğŸ¯-å½“å‰åœºæ™¯æ¨è-æ–¹å¼-2-å­ç»„ä»¶ç›‘å¬çŠ¶æ€" aria-label="Permalink to &quot;ğŸ¯ å½“å‰åœºæ™¯æ¨èï¼š**æ–¹å¼ 2 (å­ç»„ä»¶ç›‘å¬çŠ¶æ€)**&quot;">â€‹</a></h3><p><strong>ç†ç”±ï¼š</strong></p><ul><li>âœ… ç¬¦åˆ Vue 3 å“åº”å¼è®¾è®¡ç†å¿µ</li><li>âœ… å•å‘æ•°æ®æµï¼Œæ˜“äºç»´æŠ¤</li><li>âœ… çˆ¶ç»„ä»¶åªéœ€å…³æ³¨çŠ¶æ€ç®¡ç†ï¼Œæ— éœ€å…³å¿ƒå­ç»„ä»¶å®ç°</li><li>âœ… ä»£ç ç®€æ´ï¼Œæ˜“äºç†è§£</li></ul><h3 id="ğŸ“Š-å…¶ä»–åœºæ™¯æ¨è" tabindex="-1">ğŸ“Š å…¶ä»–åœºæ™¯æ¨è <a class="header-anchor" href="#ğŸ“Š-å…¶ä»–åœºæ™¯æ¨è" aria-label="Permalink to &quot;ğŸ“Š å…¶ä»–åœºæ™¯æ¨è&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹å¼</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>éœ€è¦ç²¾ç¡®æ§åˆ¶è°ƒç”¨æ—¶æœº</td><td>æ–¹å¼ 1 (ref)</td><td>ç›´æ¥è°ƒç”¨ï¼Œæ—¶æœºå¯æ§</td></tr><tr><td>è·¨å±‚çº§ã€è·¨ç»„ä»¶é€šä¿¡</td><td>æ–¹å¼ 3 (Store)</td><td>å…¨å±€çŠ¶æ€ï¼Œè§£è€¦å½»åº•</td></tr><tr><td>æ·±å±‚åµŒå¥—ç»„ä»¶</td><td>æ–¹å¼ 4 (Provide/Inject)</td><td>é¿å… prop drilling</td></tr><tr><td>ç®€å•çˆ¶å­äº¤äº’</td><td>æ–¹å¼ 5 (Callback)</td><td>ç®€å•ç›´æ¥</td></tr><tr><td>å¤æ‚çŠ¶æ€ç®¡ç†</td><td>æ–¹å¼ 6 (Composable)</td><td>é€»è¾‘å¤ç”¨ï¼Œç»Ÿä¸€ç®¡ç†</td></tr></tbody></table><hr><h2 id="æ€§èƒ½å¯¹æ¯”" tabindex="-1">æ€§èƒ½å¯¹æ¯” <a class="header-anchor" href="#æ€§èƒ½å¯¹æ¯”" aria-label="Permalink to &quot;æ€§èƒ½å¯¹æ¯”&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>æ–¹å¼</th><th>æ€§èƒ½å¼€é”€</th><th>é‡æ¸²æŸ“æ¬¡æ•°</th><th>å†…å­˜å ç”¨</th></tr></thead><tbody><tr><td>ref + defineExpose</td><td>ä½</td><td>1 æ¬¡</td><td>ä½</td></tr><tr><td>watch props</td><td>ä½</td><td>1-2 æ¬¡</td><td>ä½</td></tr><tr><td>EventBus/Store</td><td>ä¸­</td><td>å¯èƒ½å¤šæ¬¡</td><td>ä¸­</td></tr><tr><td>Provide/Inject</td><td>ä½</td><td>1 æ¬¡</td><td>ä½</td></tr><tr><td>Callback Props</td><td>ä½</td><td>å¯èƒ½å¤šæ¬¡</td><td>ä½</td></tr><tr><td>Composable</td><td>ä½</td><td>1 æ¬¡</td><td>ä½</td></tr></tbody></table><hr><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p><strong>æœ€ä½³å®è·µå»ºè®®ï¼š</strong></p><ol><li><strong>ä¼˜å…ˆä½¿ç”¨æ–¹å¼ 2</strong>ï¼ˆçŠ¶æ€é©±åŠ¨ï¼‰ï¼šç¬¦åˆ Vue 3 è®¾è®¡ç†å¿µï¼Œä»£ç æ¸…æ™°</li><li><strong>ç®€å•åœºæ™¯ç”¨æ–¹å¼ 5</strong>ï¼ˆå›è°ƒå‡½æ•°ï¼‰ï¼šç›´æ¥æ˜äº†</li><li><strong>å¤æ‚åœºæ™¯ç”¨æ–¹å¼ 6</strong>ï¼ˆComposableï¼‰ï¼šé€»è¾‘å¤ç”¨ï¼Œæ˜“äºç»´æŠ¤</li><li><strong>è·¨ç»„ä»¶ç”¨æ–¹å¼ 3</strong>ï¼ˆStoreï¼‰ï¼šå…¨å±€çŠ¶æ€ç®¡ç†</li><li><strong>é¿å…è¿‡åº¦ä½¿ç”¨æ–¹å¼ 1</strong>ï¼ˆrefï¼‰ï¼šé™¤éç¡®å®éœ€è¦ç²¾ç¡®æ§åˆ¶</li></ol><p><strong>å½“å‰å®ç°çš„ä¼˜åŠ¿ï¼š</strong></p><ul><li>ğŸ¯ ç¬¦åˆå•å‘æ•°æ®æµåŸåˆ™</li><li>ğŸ¯ çˆ¶ç»„ä»¶æ— éœ€å…³å¿ƒå­ç»„ä»¶å†…éƒ¨å®ç°</li><li>ğŸ¯ å“åº”å¼è‡ªåŠ¨è§¦å‘ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨</li><li>ğŸ¯ æ˜“äºæµ‹è¯•å’Œç»´æŠ¤</li><li>ğŸ¯ æ”¯æŒå¤šä¸ªå­ç»„ä»¶åŒæ—¶å“åº”</li></ul>`,60)])])}const y=i(h,[["render",l]]);export{g as __pageData,y as default};
