import{_ as i,c as a,o as n,ag as h}from"./chunks/framework.oqSrIbQK.js";const g=JSON.parse('{"title":"Intl.Segmenteræ˜¯ä»€ä¹ˆï¼Ÿèƒ½åšä»€ä¹ˆï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ","description":"","frontmatter":{"title":"Intl.Segmenteræ˜¯ä»€ä¹ˆï¼Ÿèƒ½åšä»€ä¹ˆï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ","date":"2025-09-19T00:00:00.000Z","tags":["JavaScript","å›½é™…åŒ–","i18n","Unicode","å‰ç«¯åŸºç¡€"]},"headers":[],"relativePath":"posts/å‰ç«¯/Vue/IntlSegmentergranularityæ˜¯ä»€ä¹ˆèƒ½åšä»€ä¹ˆæ€ä¹ˆç”¨.md","filePath":"posts/å‰ç«¯/Vue/IntlSegmentergranularityæ˜¯ä»€ä¹ˆèƒ½åšä»€ä¹ˆæ€ä¹ˆç”¨.md","lastUpdated":1758470468000}'),t={name:"posts/å‰ç«¯/Vue/IntlSegmentergranularityæ˜¯ä»€ä¹ˆèƒ½åšä»€ä¹ˆæ€ä¹ˆç”¨.md"};function k(l,s,e,p,r,d){return n(),a("div",null,[...s[0]||(s[0]=[h(`<h1 id="æ¦‚è§ˆ" tabindex="-1">æ¦‚è§ˆ <a class="header-anchor" href="#æ¦‚è§ˆ" aria-label="Permalink to &quot;æ¦‚è§ˆ&quot;">â€‹</a></h1><p><code>Intl.Segmenter</code> æ˜¯åŸç”Ÿçš„<strong>æ–‡æœ¬åˆ†æ®µå™¨</strong>ã€‚å®ƒæŒ‰æŒ‡å®šç²’åº¦æŠŠä¸€æ®µå­—ç¬¦ä¸²åˆ†è§£ä¸ºâ€œç”¨æˆ·å¯æ„ŸçŸ¥çš„å•ä½â€ã€‚ å¸¸ç”¨çš„ä¸‰ç§ç²’åº¦ï¼š</p><ul><li><code>grapheme</code>ï¼š<strong>å­—ç´ ç°‡</strong>ï¼ˆç”¨æˆ·çœ¼ä¸­çœ‹åˆ°çš„â€œä¸€ä¸ªå­—ç¬¦â€ï¼‰</li><li><code>word</code>ï¼š<strong>å•è¯</strong></li><li><code>sentence</code>ï¼š<strong>å¥å­</strong></li></ul><p>ä½ æåˆ°çš„è¿™å¥ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> seg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Segmenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { granularity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;grapheme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><p>å«ä¹‰æ˜¯ï¼šåˆ›å»ºä¸€ä¸ª<strong>æŒ‰å­—ç´ ç°‡åˆ†æ®µ</strong>çš„åˆ†æ®µå™¨ï¼ˆ<code>undefined</code> è¡¨ç¤ºè‡ªåŠ¨æ ¹æ®è¿è¡Œç¯å¢ƒçš„é»˜è®¤è¯­è¨€è§„åˆ™ï¼‰ã€‚</p><blockquote><p>ç»“è®ºä¸€å¥è¯ï¼šç”¨ <code>grapheme</code> èƒ½å®‰å…¨åœ°é€â€œå¯è§å­—ç¬¦â€åˆ‡åˆ†æ–‡æœ¬ï¼Œé¿å…æŠŠ emojiã€å˜ä½“ã€åˆæˆå­—ç¬¦â€œåˆ‡æˆä¸¤åŠâ€ã€‚</p></blockquote><hr><h1 id="ä¸ºä»€ä¹ˆéœ€è¦-å­—ç´ ç°‡-grapheme-è€Œä¸æ˜¯-å­—ç¬¦æ•°" tabindex="-1">ä¸ºä»€ä¹ˆéœ€è¦â€œå­—ç´ ç°‡â€ï¼ˆgraphemeï¼‰è€Œä¸æ˜¯â€œå­—ç¬¦æ•°â€ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦-å­—ç´ ç°‡-grapheme-è€Œä¸æ˜¯-å­—ç¬¦æ•°" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆéœ€è¦â€œå­—ç´ ç°‡â€ï¼ˆgraphemeï¼‰è€Œä¸æ˜¯â€œå­—ç¬¦æ•°â€&quot;">â€‹</a></h1><ul><li><p><strong>Unicode code point â‰  ç”¨æˆ·çœ‹åˆ°çš„ä¸€ä¸ªå­—ç¬¦</strong> ä¾‹å¦‚ï¼š</p><ul><li>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ï¼ˆå®¶åº­ï¼‰æ˜¯å¤šæ®µå­—ç¬¦é€šè¿‡ <strong>ZWJ</strong>ï¼ˆZero-Width Joinerï¼‰ç»„åˆè€Œæˆï¼›</li><li>â€œnÌ„â€ï¼ˆn + ç»„åˆé•¿éŸ³ç¬¦ï¼‰çœ‹èµ·æ¥ä¸€ä¸ªï¼Œä½†æœ‰ä¸¤ä¸ª code pointï¼›</li><li>ğŸ‡¨ğŸ‡³ï¼ˆå›½æ——ï¼‰æ˜¯ä¸¤ä¸ª <strong>Regional Indicator</strong> ç»„åˆã€‚</li></ul></li><li><p>ç›´æ¥ç”¨ <code>substr</code>ã€<code>slice</code> æˆ– <code>Array.from(str)</code> å»æˆªæ–­ï¼Œå¯èƒ½æŠŠè¿™äº›ç»„åˆ<strong>æ’•è£‚</strong>ï¼Œæ˜¾ç¤ºæˆæ–¹æ¡†/é—®å·æˆ–å¥‡æ€ªç¢ç‰‡ã€‚</p></li><li><p><code>grapheme</code> èƒ½ä¸€æ¬¡å¾—åˆ°â€œç”¨æˆ·æ„ŸçŸ¥çš„æœ€å°å•ä½â€ï¼Œ<strong>æˆªæ–­/è®¡æ•°æ›´ç¬¦åˆè§†è§‰ä¸è¯­ä¹‰</strong>ã€‚</p></li></ul><hr><h1 id="æ ¸å¿ƒ-api-ç”¨æ³•" tabindex="-1">æ ¸å¿ƒ API ç”¨æ³• <a class="header-anchor" href="#æ ¸å¿ƒ-api-ç”¨æ³•" aria-label="Permalink to &quot;æ ¸å¿ƒ API ç”¨æ³•&quot;">â€‹</a></h1><h2 id="_1-é€-å¯è§å­—ç¬¦-éå†" tabindex="-1">1ï¼‰é€â€œå¯è§å­—ç¬¦â€éå† <a class="header-anchor" href="#_1-é€-å¯è§å­—ç¬¦-éå†" aria-label="Permalink to &quot;1ï¼‰é€â€œå¯è§å­—ç¬¦â€éå†&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸Šä¸€è¡Œæ³¨é‡Šï¼šæŒ‰â€œå¯è§å­—ç¬¦â€éå†ï¼Œé¿å…åˆ‡æ–­ emoji/åˆæˆå­—æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> seg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Segmenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { granularity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;grapheme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> iter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> seg.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">segment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦nÌ„AğŸ‡¨ğŸ‡³&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> iter) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // item: { segment, index, input, isWordLike? }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item.segment);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯èƒ½è¾“å‡ºï¼š[&quot;ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦&quot;, &quot;nÌ„&quot;, &quot;A&quot;, &quot;ğŸ‡¨ğŸ‡³&quot;]</span></span></code></pre></div><h2 id="_2-å®‰å…¨æˆªæ–­-ä¿ç•™å‰-n-ä¸ª-å¯è§å­—ç¬¦" tabindex="-1">2ï¼‰å®‰å…¨æˆªæ–­ï¼ˆä¿ç•™å‰ N ä¸ªâ€œå¯è§å­—ç¬¦â€ï¼‰ <a class="header-anchor" href="#_2-å®‰å…¨æˆªæ–­-ä¿ç•™å‰-n-ä¸ª-å¯è§å­—ç¬¦" aria-label="Permalink to &quot;2ï¼‰å®‰å…¨æˆªæ–­ï¼ˆä¿ç•™å‰ N ä¸ªâ€œå¯è§å­—ç¬¦â€ï¼‰&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸Šä¸€è¡Œæ³¨é‡Šï¼šä¸è¦ç”¨ str.slice(N)ï¼›æ”¹ä¸ºæŒ‰ grapheme åˆ‡åˆ†åå† join</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> takeGraphemes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> seg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Segmenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { granularity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;grapheme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> units</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(seg.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">segment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(input), (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.segment);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> units.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="_3-ä¸­é—´çœç•¥-ä¿ç•™é¦–å°¾è‹¥å¹²-å¯è§å­—ç¬¦" tabindex="-1">3ï¼‰ä¸­é—´çœç•¥ï¼ˆä¿ç•™é¦–å°¾è‹¥å¹²â€œå¯è§å­—ç¬¦â€ï¼‰ <a class="header-anchor" href="#_3-ä¸­é—´çœç•¥-ä¿ç•™é¦–å°¾è‹¥å¹²-å¯è§å­—ç¬¦" aria-label="Permalink to &quot;3ï¼‰ä¸­é—´çœç•¥ï¼ˆä¿ç•™é¦–å°¾è‹¥å¹²â€œå¯è§å­—ç¬¦â€ï¼‰&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸Šä¸€è¡Œæ³¨é‡Šï¼šé¦–å°¾å„ä¿ç•™ N ä¸ªå­—ç´ ç°‡ï¼Œä¸­é—´ç”¨çœç•¥å·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> middleEllipsisGrapheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">keepHead</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">keepTail</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> seg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Segmenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { granularity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;grapheme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(seg.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">segment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(input), (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.segment);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (g.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> keepHead </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> keepTail) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> input;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> g.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, keepHead).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;â€¦&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> g.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keepTail).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h1 id="ä¸-word-sentence-çš„åŒºåˆ«-é¡ºæ‰‹è¯´æ˜" tabindex="-1">ä¸ <code>word</code> / <code>sentence</code> çš„åŒºåˆ«ï¼ˆé¡ºæ‰‹è¯´æ˜ï¼‰ <a class="header-anchor" href="#ä¸-word-sentence-çš„åŒºåˆ«-é¡ºæ‰‹è¯´æ˜" aria-label="Permalink to &quot;ä¸ \`word\` / \`sentence\` çš„åŒºåˆ«ï¼ˆé¡ºæ‰‹è¯´æ˜ï¼‰&quot;">â€‹</a></h1><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Segmenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { granularity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;word&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// =&gt; è¿­ä»£ç»“æœä¼šåŒ…å« isWordLikeï¼ˆæ ‡è®°æ˜¯ä¸æ˜¯è¯ï¼‰ï¼Œæ ‡ç‚¹/ç©ºæ ¼é€šå¸¸ false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Segmenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { granularity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sentence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// =&gt; ä»¥å¥å­è¾¹ç•Œåˆ†æ®µï¼Œé€‚åˆåšæ‘˜è¦/é¢„è§ˆçš„å¥å­åˆ‡åˆ†</span></span></code></pre></div><blockquote><p><code>grapheme</code> å…³æ³¨<strong>æ¸²æŸ“ä¸Šçš„å•ä½</strong>ï¼›<code>word</code>/<code>sentence</code> å…³æ³¨<strong>è¯­è¨€å­¦ä¸Šçš„å•ä½</strong>ã€‚åšæ˜µç§°æ˜¾ç¤º/æˆªæ–­ï¼Œè¯·ç”¨ <code>grapheme</code>ã€‚</p></blockquote><hr><h1 id="å…¸å‹åœºæ™¯ä¸æ”¶ç›Š" tabindex="-1">å…¸å‹åœºæ™¯ä¸æ”¶ç›Š <a class="header-anchor" href="#å…¸å‹åœºæ™¯ä¸æ”¶ç›Š" aria-label="Permalink to &quot;å…¸å‹åœºæ™¯ä¸æ”¶ç›Š&quot;">â€‹</a></h1><ul><li><strong>æ˜µç§°/ç”¨æˆ·åé•¿åº¦é™åˆ¶</strong>ï¼šæŒ‰ <strong>å­—ç´ ç°‡æ•°</strong> åšä¸Šé™ï¼Œå‘Šåˆ«â€œåˆ‡åŠä¸ªè¡¨æƒ…â€ã€‚</li><li><strong>ä¸­é—´çœç•¥</strong>ï¼šä¿ç•™â€œå¼ ä¸‰â€¦â€ä¸â€œâ€¦è®¤è¯â€ç­‰å…³é”®å¯è¯»ç‰‡æ®µã€‚</li><li><strong>è®¡æ•°ä¸ UI è§„åˆ™</strong>ï¼šæ˜¾ç¤ºâ€œè¿˜å¯è¾“å…¥ X ä¸ªå­—ç¬¦â€æ—¶æ›´è´´è¿‘ç”¨æˆ·ç›´è§‰ã€‚</li><li><strong>è·¨è¯­è¨€ç¨³å®š</strong>ï¼šå¯¹ CJKã€å«éŸ³æ ‡è¯­è¨€ã€emoji/è‚¤è‰²å˜ä½“ã€æ——å¸œç­‰éƒ½æ­£ç¡®ã€‚</li></ul><hr><h1 id="æ³¨æ„äº‹é¡¹ä¸å‘" tabindex="-1">æ³¨æ„äº‹é¡¹ä¸å‘ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹ä¸å‘" aria-label="Permalink to &quot;æ³¨æ„äº‹é¡¹ä¸å‘&quot;">â€‹</a></h1><h2 id="_1-å®ƒä¸åšæ–­è¡Œ-æ¢è¡Œå¸ƒå±€" tabindex="-1">1ï¼‰å®ƒä¸åšæ–­è¡Œ/æ¢è¡Œå¸ƒå±€ <a class="header-anchor" href="#_1-å®ƒä¸åšæ–­è¡Œ-æ¢è¡Œå¸ƒå±€" aria-label="Permalink to &quot;1ï¼‰å®ƒä¸åšæ–­è¡Œ/æ¢è¡Œå¸ƒå±€&quot;">â€‹</a></h2><ul><li><code>Intl.Segmenter</code> åªè´Ÿè´£<strong>åˆ†æ®µ</strong>ï¼Œä¸è´Ÿè´£ CSS çš„å¸ƒå±€ã€‚</li><li>æ–­è¡Œä¸çœç•¥è¯·ç»§ç»­ç”¨ï¼š<code>text-overflow: ellipsis</code>ã€<code>-webkit-line-clamp</code>ã€<code>line-break</code>ã€<code>overflow-wrap</code> ç­‰ã€‚</li></ul><h2 id="_2-locale-çš„å½±å“" tabindex="-1">2ï¼‰locale çš„å½±å“ <a class="header-anchor" href="#_2-locale-çš„å½±å“" aria-label="Permalink to &quot;2ï¼‰locale çš„å½±å“&quot;">â€‹</a></h2><ul><li>æ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆå¦‚ <code>&#39;en&#39; | &#39;zh&#39; | &#39;ar&#39;</code>ï¼‰ä¼šå½±å“ <code>word</code>/<code>sentence</code> çš„è¾¹ç•Œè§„åˆ™ã€‚</li><li>å¯¹ <code>grapheme</code> æ¥è¯´ï¼Œå½±å“è¾ƒå°ï¼Œä½†ä»å»ºè®®ä¼ å…¥ä½ çš„ä¸»è¦è¯­è¨€æˆ–ç”¨ <code>undefined</code> è‡ªåŠ¨é€‰æ‹©ã€‚</li></ul><h2 id="_3-æµè§ˆå™¨-è¿è¡Œæ—¶æ”¯æŒ" tabindex="-1">3ï¼‰æµè§ˆå™¨/è¿è¡Œæ—¶æ”¯æŒ <a class="header-anchor" href="#_3-æµè§ˆå™¨-è¿è¡Œæ—¶æ”¯æŒ" aria-label="Permalink to &quot;3ï¼‰æµè§ˆå™¨/è¿è¡Œæ—¶æ”¯æŒ&quot;">â€‹</a></h2><ul><li><p>**ç°ä»£æµè§ˆå™¨ä¸ Node.jsï¼ˆä¸€èˆ¬ä¸º 16+ ä¸”å¸¦ ICU æ•°æ®ï¼‰**å·²æ”¯æŒè‰¯å¥½ã€‚</p></li><li><p>ä¿é™©åšæ³•ï¼š<strong>ç‰¹æ€§æ£€æµ‹ + é€€åŒ–</strong>ï¼ˆfallbackï¼‰ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸Šä¸€è¡Œæ³¨é‡Šï¼šæ—  Intl.Segmenter æ—¶é€€åŒ–ä¸ºæŒ‰ code unit æ‹†åˆ†ï¼ˆä¸å®Œç¾ï¼Œä½†ä¸æŠ¥é”™ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> segmentGraphemes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;undefined&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Segmenter&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> seg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Segmenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { granularity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;grapheme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(seg.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">segment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text), (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.segment);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é€€åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><blockquote><p>è€æ—§ç¯å¢ƒä¸‹çš„å®Œç¾ polyfill æˆæœ¬è¾ƒé«˜ï¼ˆéœ€å®ç° Unicode æ–­å­—è§„åˆ™ï¼‰ï¼Œä¸€èˆ¬ä¸å¿…å¼ºæ±‚ã€‚</p></blockquote></li></ul><h2 id="_4-æ€§èƒ½" tabindex="-1">4ï¼‰æ€§èƒ½ <a class="header-anchor" href="#_4-æ€§èƒ½" aria-label="Permalink to &quot;4ï¼‰æ€§èƒ½&quot;">â€‹</a></h2><ul><li><code>segment()</code> æ˜¯çº¿æ€§éå†ï¼Œä¸€èˆ¬è¶³å¤Ÿå¿«ã€‚</li><li>é¢‘ç¹æµ‹é‡/é‡ç®—æ—¶ï¼ˆä¾‹å¦‚çª—å£ resize + æ–‡æœ¬å˜åŒ–ï¼‰ï¼Œè¯·<strong>ç¼“å­˜åˆ†æ®µç»“æœ</strong>æˆ–<strong>èŠ‚æµ/é˜²æŠ–</strong>ï¼Œå¹¶ä¼˜å…ˆç”¨ <strong>CSS æ–¹æ¡ˆ</strong>ï¼Œåªåœ¨å¿…è¦æ—¶ç”¨ JS çœç•¥ã€‚</li></ul><h2 id="_5-node-ç¯å¢ƒçš„å°è´´å£«" tabindex="-1">5ï¼‰Node ç¯å¢ƒçš„å°è´´å£« <a class="header-anchor" href="#_5-node-ç¯å¢ƒçš„å°è´´å£«" aria-label="Permalink to &quot;5ï¼‰Node ç¯å¢ƒçš„å°è´´å£«&quot;">â€‹</a></h2><ul><li>å°‘æ•°æ—§ Node éœ€è¦ <strong>full-icu</strong> æ‰èƒ½å¯ç”¨å®Œæ•´å›½é™…åŒ–è¡Œä¸ºï¼›ç°ä»£ LTS é€šå¸¸é»˜è®¤ OKã€‚</li><li>æœåŠ¡ç«¯åªæ˜¯é¢„å¤„ç†æ˜µç§°é•¿åº¦æ—¶ï¼Œç”¨å®ƒä¹Ÿå¾ˆåˆé€‚ï¼ˆä¸å‰ç«¯è§„åˆ™ä¿æŒä¸€è‡´ï¼‰ã€‚</li></ul><hr><h1 id="ä¸ä½ çš„-v-smart-name-æŒ‡ä»¤æ€ä¹ˆé…åˆ" tabindex="-1">ä¸ä½ çš„ <code>v-smart-name</code> æŒ‡ä»¤æ€ä¹ˆé…åˆ <a class="header-anchor" href="#ä¸ä½ çš„-v-smart-name-æŒ‡ä»¤æ€ä¹ˆé…åˆ" aria-label="Permalink to &quot;ä¸ä½ çš„ \`v-smart-name\` æŒ‡ä»¤æ€ä¹ˆé…åˆ&quot;">â€‹</a></h1><ul><li><strong>å®‰å…¨åˆ‡åˆ†</strong>ï¼šæŠŠ <code>segmentGraphemes(text)</code> ä½œä¸ºåŸºç¡€å·¥å…·ï¼Œç”¨äº<strong>å­—ç´ ç°‡è®¡æ•°</strong>ä¸<strong>ä¸­é—´çœç•¥</strong>å®ç°ã€‚</li><li><strong>å®½åº¦é©±åŠ¨</strong>ï¼šä¸ <code>canvas.measureText</code> æ­é…ï¼Œåš<strong>åƒç´ ç²¾åº¦</strong>çš„ä¸­é—´çœç•¥ï¼ˆå…ˆ CSSï¼Œå¤šè¡Œè£…ä¸ä¸‹å† JSï¼‰ã€‚</li><li><strong>ç»Ÿä¸€ä¸Šé™</strong>ï¼šåç«¯/å‰ç«¯éƒ½ä»¥â€œå­—ç´ ç°‡æ•°â€ä½œä¸º 40 çš„ä¸Šé™ï¼Œé¿å…å£å¾„ä¸ä¸€è‡´ã€‚</li></ul><hr><h1 id="æœ€å°å®è·µä»£ç -å¯ç›´æ¥æ”¾å…¥ä½ çš„é¡¹ç›®" tabindex="-1">æœ€å°å®è·µä»£ç ï¼ˆå¯ç›´æ¥æ”¾å…¥ä½ çš„é¡¹ç›®ï¼‰ <a class="header-anchor" href="#æœ€å°å®è·µä»£ç -å¯ç›´æ¥æ”¾å…¥ä½ çš„é¡¹ç›®" aria-label="Permalink to &quot;æœ€å°å®è·µä»£ç ï¼ˆå¯ç›´æ¥æ”¾å…¥ä½ çš„é¡¹ç›®ï¼‰&quot;">â€‹</a></h1><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸Šä¸€è¡Œæ³¨é‡Šï¼šå­—ç´ ç°‡å®‰å…¨åˆ‡åˆ†ï¼ˆå« fallbackï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> segmentGraphemes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;undefined&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Segmenter&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> seg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Segmenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { granularity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;grapheme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(seg.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">segment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text), (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.segment);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸Šä¸€è¡Œæ³¨é‡Šï¼šé™åˆ¶â€œæœ€å¤š N ä¸ªå¯è§å­—ç¬¦â€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> clampGraphemeLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">max</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> segmentGraphemes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(input);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> g.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> max </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> input </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> g.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, max).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸Šä¸€è¡Œæ³¨é‡Šï¼šä¸­é—´çœç•¥ï¼ˆä¿ç•™å‰åå­—ç´ ç°‡ï¼‰ï¼Œå¸¸ç”¨äºæ˜µç§°æ˜¾ç¤º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> middleEllipsis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">keepHead</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">keepTail</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> segmentGraphemes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(input);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (g.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> keepHead </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> keepTail) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> input;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> g.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, keepHead).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;â€¦&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> g.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keepTail).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h1 id="ä¸€å¥è¯è®°å¿†" tabindex="-1">ä¸€å¥è¯è®°å¿† <a class="header-anchor" href="#ä¸€å¥è¯è®°å¿†" aria-label="Permalink to &quot;ä¸€å¥è¯è®°å¿†&quot;">â€‹</a></h1><blockquote><p><strong><code>Intl.Segmenter</code> + <code>granularity: &#39;grapheme&#39;</code> = ç”¨æµè§ˆå™¨å†…ç½®çš„ Unicode è§„åˆ™ï¼ŒæŒ‰â€œç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦â€åˆ‡åˆ†æ–‡æœ¬</strong>ã€‚ åšæ˜µç§°/ç”¨æˆ·åçš„<strong>è®¡æ•°</strong>ã€<strong>æˆªæ–­</strong>ã€<strong>ä¸­é—´çœç•¥</strong>ï¼Œè¿™æ˜¯å½“å‰æœ€ç¨³å¦¥ã€æœ€ i18n å‹å¥½çš„æ–¹å¼ã€‚</p></blockquote>`,46)])])}const o=i(t,[["render",k]]);export{g as __pageData,o as default};
