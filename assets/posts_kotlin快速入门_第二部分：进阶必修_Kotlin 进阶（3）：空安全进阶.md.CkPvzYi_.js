import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.oqSrIbQK.js";const g=JSON.parse('{"title":"Kotlin è¿›é˜¶ï¼ˆ3ï¼‰ï¼šç©ºå®‰å…¨è¿›é˜¶","description":"","frontmatter":{"title":"Kotlin è¿›é˜¶ï¼ˆ3ï¼‰ï¼šç©ºå®‰å…¨è¿›é˜¶","date":"2025-09-12T00:00:00.000Z","categories":["Kotlin è¿›é˜¶å­¦ä¹ "],"tags":["Kotlin","ç©ºå®‰å…¨","NullPointerException","Elvis","å®‰å…¨è°ƒç”¨"]},"headers":[],"relativePath":"posts/kotlinå¿«é€Ÿå…¥é—¨/ç¬¬äºŒéƒ¨åˆ†ï¼šè¿›é˜¶å¿…ä¿®/Kotlin è¿›é˜¶ï¼ˆ3ï¼‰ï¼šç©ºå®‰å…¨è¿›é˜¶.md","filePath":"posts/kotlinå¿«é€Ÿå…¥é—¨/ç¬¬äºŒéƒ¨åˆ†ï¼šè¿›é˜¶å¿…ä¿®/Kotlin è¿›é˜¶ï¼ˆ3ï¼‰ï¼šç©ºå®‰å…¨è¿›é˜¶.md","lastUpdated":1758544231000}'),h={name:"posts/kotlinå¿«é€Ÿå…¥é—¨/ç¬¬äºŒéƒ¨åˆ†ï¼šè¿›é˜¶å¿…ä¿®/Kotlin è¿›é˜¶ï¼ˆ3ï¼‰ï¼šç©ºå®‰å…¨è¿›é˜¶.md"};function t(k,s,p,e,r,E){return n(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="kotlin-è¿›é˜¶-3-ç©ºå®‰å…¨è¿›é˜¶" tabindex="-1">Kotlin è¿›é˜¶ï¼ˆ3ï¼‰ï¼šç©ºå®‰å…¨è¿›é˜¶ <a class="header-anchor" href="#kotlin-è¿›é˜¶-3-ç©ºå®‰å…¨è¿›é˜¶" aria-label="Permalink to &quot;Kotlin è¿›é˜¶ï¼ˆ3ï¼‰ï¼šç©ºå®‰å…¨è¿›é˜¶&quot;">â€‹</a></h1><p>åœ¨ Java é‡Œï¼Œ<code>NullPointerException</code>ï¼ˆç®€ç§° NPEï¼‰å‡ ä¹æ˜¯æœ€å¸¸è§çš„è¿è¡Œæ—¶é”™è¯¯ã€‚<br> è€Œ Kotlin çš„è®¾è®¡ç›®æ ‡ä¹‹ä¸€å°±æ˜¯ <strong>å½»åº•å‡å°‘ç©ºæŒ‡é’ˆé”™è¯¯</strong>ã€‚<br> ä»Šå¤©æˆ‘ä»¬æ·±å…¥å­¦ä¹  Kotlin çš„ <strong>ç©ºå®‰å…¨è¯­æ³•</strong> å’Œ <strong>æœ€ä½³å®è·µ</strong>ã€‚</p><hr><h2 id="_1-å¯ç©ºç±»å‹ä¸éç©ºç±»å‹" tabindex="-1">1. å¯ç©ºç±»å‹ä¸éç©ºç±»å‹ <a class="header-anchor" href="#_1-å¯ç©ºç±»å‹ä¸éç©ºç±»å‹" aria-label="Permalink to &quot;1. å¯ç©ºç±»å‹ä¸éç©ºç±»å‹&quot;">â€‹</a></h2><p>Kotlin æŠŠç±»å‹åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li><strong>éç©ºç±»å‹</strong>ï¼šé»˜è®¤ä¸èƒ½ä¸º <code>null</code></li><li><strong>å¯ç©ºç±»å‹</strong>ï¼šåœ¨ç±»å‹ååŠ  <code>?</code> è¡¨ç¤º</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// a = null âŒ ç¼–è¯‘æŠ¥é”™</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hi&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span></code></pre></div><hr><h2 id="_2-å®‰å…¨è°ƒç”¨" tabindex="-1">2. å®‰å…¨è°ƒç”¨ï¼ˆ?.ï¼‰ <a class="header-anchor" href="#_2-å®‰å…¨è°ƒç”¨" aria-label="Permalink to &quot;2. å®‰å…¨è°ƒç”¨ï¼ˆ?.ï¼‰&quot;">â€‹</a></h2><p>å¦‚æœå¯¹è±¡å¯èƒ½ä¸º <code>null</code>ï¼Œç”¨ <code>?.</code> æ¥å®‰å…¨è°ƒç”¨ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name?.length) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// nullï¼Œè€Œä¸æ˜¯æŠ›å¼‚å¸¸</span></span></code></pre></div><hr><h2 id="_3-elvis-æ“ä½œç¬¦" tabindex="-1">3. Elvis æ“ä½œç¬¦ï¼ˆ?:ï¼‰ <a class="header-anchor" href="#_3-elvis-æ“ä½œç¬¦" aria-label="Permalink to &quot;3. Elvis æ“ä½œç¬¦ï¼ˆ?:ï¼‰&quot;">â€‹</a></h2><p>å¦‚æœå·¦è¾¹æ˜¯ <code>null</code>ï¼Œå°±ç”¨å³è¾¹çš„å€¼ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> length </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name?.length ?: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(length) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0</span></span></code></pre></div><h3 id="_3-1-åŸºç¡€ç”¨æ³•" tabindex="-1">3.1 åŸºç¡€ç”¨æ³• <a class="header-anchor" href="#_3-1-åŸºç¡€ç”¨æ³•" aria-label="Permalink to &quot;3.1 åŸºç¡€ç”¨æ³•&quot;">â€‹</a></h3><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç®€å•çš„é»˜è®¤å€¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.name ?: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœªçŸ¥ç”¨æˆ·&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userAge </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.age ?: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é“¾å¼è°ƒç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">process</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é»˜è®¤ç»“æœ&quot;</span></span></code></pre></div><h3 id="_3-2-elvis-run-å¤„ç†å¤æ‚çš„ç©ºå€¼æƒ…å†µ" tabindex="-1">3.2 Elvis + runï¼šå¤„ç†å¤æ‚çš„ç©ºå€¼æƒ…å†µ <a class="header-anchor" href="#_3-2-elvis-run-å¤„ç†å¤æ‚çš„ç©ºå€¼æƒ…å†µ" aria-label="Permalink to &quot;3.2 Elvis + runï¼šå¤„ç†å¤æ‚çš„ç©ºå€¼æƒ…å†µ&quot;">â€‹</a></h3><p>å½“ç©ºå€¼æ—¶éœ€è¦æ‰§è¡Œå¤šè¡Œä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ <code>?: run</code> ç»„åˆï¼š</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> activity: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Activity</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UTSAndroid.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUniActivity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;no activity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>è¯­æ³•è§£æï¼š</strong></p><ul><li><code>?:</code> - Elvis æ“ä½œç¬¦ï¼Œç©ºå€¼åˆå¹¶</li><li><code>run</code> - ä½œç”¨åŸŸå‡½æ•°ï¼Œæä¾›ä»£ç å—æ‰§è¡Œç¯å¢ƒ</li></ul><p><strong>æ‰§è¡Œé€»è¾‘ï¼š</strong></p><ol><li>è®¡ç®— <code>UTSAndroid.getUniActivity()</code></li><li>å¦‚æœ<strong>ä¸ä¸º null</strong>ï¼šç›´æ¥èµ‹å€¼ç»™ <code>activity</code></li><li>å¦‚æœ<strong>ä¸º null</strong>ï¼šæ‰§è¡Œ <code>run</code> å—ä¸­çš„ä»£ç </li></ol><p><strong>ç­‰ä»·å†™æ³•å¯¹æ¯”ï¼š</strong></p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ ?: runï¼ˆæ¨èï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> activity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getActivity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    logError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Activity not found&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    showErrorDialog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¼ ç»Ÿ if-else å†™æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> activity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getActivity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (activity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    logError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Activity not found&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    showErrorDialog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-3-å®é™…åº”ç”¨åœºæ™¯" tabindex="-1">3.3 å®é™…åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#_3-3-å®é™…åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;3.3 å®é™…åº”ç”¨åœºæ™¯&quot;">â€‹</a></h3><h4 id="åœºæ™¯ä¸€-æ—©æœŸè¿”å›-early-return" tabindex="-1">åœºæ™¯ä¸€ï¼šæ—©æœŸè¿”å›ï¼ˆEarly Returnï¼‰ <a class="header-anchor" href="#åœºæ™¯ä¸€-æ—©æœŸè¿”å›-early-return" aria-label="Permalink to &quot;åœºæ™¯ä¸€ï¼šæ—©æœŸè¿”å›ï¼ˆEarly Returnï¼‰&quot;">â€‹</a></h4><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> processUserData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> findUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId) ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> profile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·èµ„æ–™ä¸å®Œæ•´&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç»§ç»­å¤„ç†é€»è¾‘...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    updateUserProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(profile)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="åœºæ™¯äºŒ-é”™è¯¯å¤„ç†ä¸å›è°ƒ" tabindex="-1">åœºæ™¯äºŒï¼šé”™è¯¯å¤„ç†ä¸å›è°ƒ <a class="header-anchor" href="#åœºæ™¯äºŒ-é”™è¯¯å¤„ç†ä¸å›è°ƒ" aria-label="Permalink to &quot;åœºæ™¯äºŒï¼šé”™è¯¯å¤„ç†ä¸å›è°ƒ&quot;">â€‹</a></h4><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> downloadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?, callback: (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Unit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validUrl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> connection </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(validUrl) ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ‰§è¡Œä¸‹è½½...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="åœºæ™¯ä¸‰-èµ„æºè·å–ä¸æ¸…ç†" tabindex="-1">åœºæ™¯ä¸‰ï¼šèµ„æºè·å–ä¸æ¸…ç† <a class="header-anchor" href="#åœºæ™¯ä¸‰-èµ„æºè·å–ä¸æ¸…ç†" aria-label="Permalink to &quot;åœºæ™¯ä¸‰ï¼šèµ„æºè·å–ä¸æ¸…ç†&quot;">â€‹</a></h4><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> processData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resource </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> acquireResource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        cleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> processor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createProcessor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        resource.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">release</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> processor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">process</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resource)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-4-run-vs-å…¶ä»–æ¨¡å¼" tabindex="-1">3.4 <code>?: run</code> vs å…¶ä»–æ¨¡å¼ <a class="header-anchor" href="#_3-4-run-vs-å…¶ä»–æ¨¡å¼" aria-label="Permalink to &quot;3.4 \`?: run\` vs å…¶ä»–æ¨¡å¼&quot;">â€‹</a></h3><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. ç®€å•é»˜è®¤å€¼ï¼šç”¨ ?:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.name ?: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åŒ¿å&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. ç©ºå€¼æ—¶æ‰§è¡Œå•è¡Œï¼šç”¨ ?:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDefaultData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. ç©ºå€¼æ—¶æ‰§è¡Œå¤šè¡Œï¼šç”¨ ?: run</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    logError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é…ç½®åŠ è½½å¤±è´¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    initDefaultConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    getDefaultConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4. ç©ºå€¼æ—¶æŠ›å¼‚å¸¸ï¼šç”¨ ?: run æˆ– ?:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> required </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRequired</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IllegalStateException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¿…éœ€èµ„æºä¸å¯ç”¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆ–æ›´ç®€æ´çš„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> required </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRequired</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¿…éœ€èµ„æºä¸å¯ç”¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h2 id="_4-éç©ºæ–­è¨€" tabindex="-1">4. éç©ºæ–­è¨€ï¼ˆ!!ï¼‰ <a class="header-anchor" href="#_4-éç©ºæ–­è¨€" aria-label="Permalink to &quot;4. éç©ºæ–­è¨€ï¼ˆ!!ï¼‰&quot;">â€‹</a></h2><p>æŠŠå¯ç©ºç±»å‹å¼ºåˆ¶è½¬ä¸ºéç©ºï¼Œå¦‚æœæ˜¯ <code>null</code> å°±æŠ› NPEã€‚ âš ï¸ <strong>æ…ç”¨ï¼</strong> ä¸€èˆ¬åªåœ¨&quot;ç»å¯¹ä¿è¯éç©º&quot;çš„åœ°æ–¹ä½¿ç”¨ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Kotlin&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.length) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 6</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.length) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ NPE</span></span></code></pre></div><hr><h2 id="_5-let-ä¸ç©ºå®‰å…¨é“¾å¼è°ƒç”¨" tabindex="-1">5. <code>let</code> ä¸ç©ºå®‰å…¨é“¾å¼è°ƒç”¨ <a class="header-anchor" href="#_5-let-ä¸ç©ºå®‰å…¨é“¾å¼è°ƒç”¨" aria-label="Permalink to &quot;5. \`let\` ä¸ç©ºå®‰å…¨é“¾å¼è°ƒç”¨&quot;">â€‹</a></h2><p><code>let</code> å¸¸å’Œ <code>?.</code> ä¸€èµ·ç”¨ï¼Œåªæœ‰éç©ºæ—¶æ‰ä¼šæ‰§è¡Œã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Kotlin&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é•¿åº¦æ˜¯ \${it.length}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 6</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>è¿˜èƒ½å†™æˆé“¾å¼è°ƒç”¨ï¼š</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">takeIf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { it.length </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uppercase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// KOTLIN</span></span></code></pre></div><hr><h2 id="_6-lateinit-ä¸-by-lazy" tabindex="-1">6. <code>lateinit</code> ä¸ <code>by lazy</code> <a class="header-anchor" href="#_6-lateinit-ä¸-by-lazy" aria-label="Permalink to &quot;6. \`lateinit\` ä¸ \`by lazy\`&quot;">â€‹</a></h2><p>å¦‚æœä¸€ä¸ªå˜é‡åœ¨ç¨ååˆå§‹åŒ–ï¼Œå¯ä»¥ç”¨ï¼š</p><ul><li><strong><code>lateinit var</code></strong>ï¼šå¿…é¡»æ˜¯ <code>var</code>ï¼Œå¸¸ç”¨äºä¾èµ–æ³¨å…¥ã€Android View</li><li><strong><code>by lazy</code></strong>ï¼šå¿…é¡»æ˜¯ <code>val</code>ï¼Œç¬¬ä¸€æ¬¡è®¿é—®æ—¶æ‰ä¼šåˆå§‹åŒ–</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">lateinit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> username: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> by</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lazy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åˆå§‹åŒ–ä¸­â€¦&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;é…ç½®åŠ è½½å®Œæˆ&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="_7-å¹³å°ç±»å‹ä¸-java-äº’æ“ä½œ" tabindex="-1">7. å¹³å°ç±»å‹ä¸ Java äº’æ“ä½œ <a class="header-anchor" href="#_7-å¹³å°ç±»å‹ä¸-java-äº’æ“ä½œ" aria-label="Permalink to &quot;7. å¹³å°ç±»å‹ä¸ Java äº’æ“ä½œ&quot;">â€‹</a></h2><p>ä» Java ä»£ç è°ƒç”¨æ¥çš„å¯¹è±¡å¯èƒ½æ˜¯ <code>null</code> ä¹Ÿå¯èƒ½ä¸æ˜¯ï¼ŒKotlin æŠŠå®ƒç§°ä¸º <strong>å¹³å°ç±»å‹</strong>ï¼ˆä¸å¸¦ <code>?</code> ä¹Ÿä¸å¸¦ <code>!!</code>ï¼‰ã€‚ æ‰€ä»¥åœ¨å’Œ Java äº’æ“ä½œæ—¶ï¼Œè¦ç‰¹åˆ«å°å¿ƒç©ºæŒ‡é’ˆé—®é¢˜ã€‚</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span></code></pre></div><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> javaObj.name </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¹³å°ç±»å‹ï¼Œä¸å®‰å…¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name.length)    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯èƒ½ç›´æ¥ NPE</span></span></code></pre></div><hr><h2 id="_8-ç©ºå®‰å…¨æœ€ä½³å®è·µ" tabindex="-1">8. ç©ºå®‰å…¨æœ€ä½³å®è·µ <a class="header-anchor" href="#_8-ç©ºå®‰å…¨æœ€ä½³å®è·µ" aria-label="Permalink to &quot;8. ç©ºå®‰å…¨æœ€ä½³å®è·µ&quot;">â€‹</a></h2><h3 id="_8-1-ä¼˜å…ˆçº§é¡ºåº" tabindex="-1">8.1 ä¼˜å…ˆçº§é¡ºåº <a class="header-anchor" href="#_8-1-ä¼˜å…ˆçº§é¡ºåº" aria-label="Permalink to &quot;8.1 ä¼˜å…ˆçº§é¡ºåº&quot;">â€‹</a></h3><ol><li><strong><code>?.</code> å®‰å…¨è°ƒç”¨</strong> - æœ€å®‰å…¨ï¼Œé“¾å¼è°ƒç”¨å‹å¥½</li><li><strong><code>?: é»˜è®¤å€¼</code></strong> - ç®€å•åœºæ™¯çš„ç©ºå€¼å¤„ç†</li><li><strong><code>?: run { ... }</code></strong> - å¤æ‚ç©ºå€¼å¤„ç†ï¼Œå¤šè¡Œä»£ç </li><li><strong><code>!!</code> éç©ºæ–­è¨€</strong> - è°¨æ…ä½¿ç”¨ï¼Œç¡®ä¿ç»å¯¹éç©º</li></ol><h3 id="_8-2-å¸¸è§æ¨¡å¼æ€»ç»“" tabindex="-1">8.2 å¸¸è§æ¨¡å¼æ€»ç»“ <a class="header-anchor" href="#_8-2-å¸¸è§æ¨¡å¼æ€»ç»“" aria-label="Permalink to &quot;8.2 å¸¸è§æ¨¡å¼æ€»ç»“&quot;">â€‹</a></h3><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ¨èï¼šæ¸è¿›å¼ç©ºå€¼å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> safeProcess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 1. å®‰å…¨è°ƒç”¨ + Elvis</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trimmed </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trim</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ?: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ç©ºæ•°æ®&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 2. è¿›ä¸€æ­¥éªŒè¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validated </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trimmed.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">takeIf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { it.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNotEmpty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() } ?: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        logWarning</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ•°æ®ä¸ºç©º&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;é»˜è®¤æ•°æ®&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 3. æ­£å¸¸å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validated.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uppercase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ é¿å…ï¼šè¿‡åº¦ä½¿ç”¨éç©ºæ–­è¨€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> unsafeProcess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> data!!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trim</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uppercase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å±é™©ï¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="_9-å°ç»“" tabindex="-1">9. å°ç»“ <a class="header-anchor" href="#_9-å°ç»“" aria-label="Permalink to &quot;9. å°ç»“&quot;">â€‹</a></h2><ul><li>Kotlin é€šè¿‡ <strong>å¯ç©ºç±»å‹</strong> å’Œ <strong>ç©ºå®‰å…¨æ“ä½œç¬¦</strong>ï¼Œæœ€å¤§é™åº¦é¿å… NPE</li><li>æ ¸å¿ƒè¯­æ³•ï¼š<code>?.</code>ã€<code>?:</code>ã€<code>?: run</code>ã€<code>!!</code>ã€<code>let</code></li><li><strong><code>?: run</code></strong> æ˜¯å¤„ç†å¤æ‚ç©ºå€¼åœºæ™¯çš„åˆ©å™¨</li><li>åˆå§‹åŒ–åœºæ™¯ï¼š<code>lateinit</code> å’Œ <code>by lazy</code></li><li>æ³¨æ„ Java å¹³å°ç±»å‹çš„æ½œåœ¨é£é™©</li></ul><hr><p><strong>ä¸‹ä¸€ç¯‡é¢„å‘Š</strong> ğŸ‘‰ <strong>ã€ŠKotlin è¿›é˜¶ï¼ˆ4ï¼‰ï¼šæ•°æ®ç±»ã€æšä¸¾ç±»ã€å¯†å°ç±»ã€‹</strong>ï¼Œå­¦ä¹  Kotlin çš„ç‰¹è‰²ç±»å‹ç³»ç»Ÿã€‚</p>`,66)])])}const o=i(h,[["render",t]]);export{g as __pageData,o as default};
