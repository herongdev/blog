import{_ as s,c as n,o as i,ag as t}from"./chunks/framework.oqSrIbQK.js";const k=JSON.parse('{"title":"顶点着色器与片段着色器：上色师傅比喻详解","description":"用大白话解释：顶点着色器=定位师傅（管位置），片段着色器=上色师傅（管颜色）。含完整工作流程与数据量对比。","frontmatter":{"title":"顶点着色器与片段着色器：上色师傅比喻详解","date":"2025-01-27T00:00:00.000Z","tags":["OpenGL ES","着色器","图形学","3D渲染"],"description":"用大白话解释：顶点着色器=定位师傅（管位置），片段着色器=上色师傅（管颜色）。含完整工作流程与数据量对比。"},"headers":[],"relativePath":"posts/cpp教程/基础入门/顶点着色器与片段着色器-上色师傅比喻详解.md","filePath":"posts/cpp教程/基础入门/顶点着色器与片段着色器-上色师傅比喻详解.md","lastUpdated":1764331727000}'),p={name:"posts/cpp教程/基础入门/顶点着色器与片段着色器-上色师傅比喻详解.md"};function e(l,a,h,o,d,r){return i(),n("div",null,[...a[0]||(a[0]=[t(`<h2 id="比喻-给石膏像上色" tabindex="-1">比喻：给石膏像上色 <a class="header-anchor" href="#比喻-给石膏像上色" aria-label="Permalink to &quot;比喻：给石膏像上色&quot;">​</a></h2><p>想象你要给一个白色的石膏立方体涂颜色：</p><ul><li><strong>顶点着色器 = 定位师傅</strong></li><li><strong>片段着色器 = 上色师傅</strong></li></ul><h2 id="顶点着色器-——-定位师傅" tabindex="-1">顶点着色器 —— &quot;定位师傅&quot; <a class="header-anchor" href="#顶点着色器-——-定位师傅" aria-label="Permalink to &quot;顶点着色器 —— &quot;定位师傅&quot;&quot;">​</a></h2><h3 id="工作内容" tabindex="-1">工作内容 <a class="header-anchor" href="#工作内容" aria-label="Permalink to &quot;工作内容&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定位师傅只关心&quot;点&quot;的位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">输入：一堆3D坐标点 [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">任务：决定这些点在屏幕上的位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">输出：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">屏幕坐标</span></span></code></pre></div><h3 id="具体工作" tabindex="-1">具体工作 <a class="header-anchor" href="#具体工作" aria-label="Permalink to &quot;具体工作&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>📍 任务1：3D空间 → 2D屏幕</span></span>
<span class="line"><span>   把三维的立方体坐标变成二维的屏幕坐标</span></span>
<span class="line"><span>   （就像把实物投影到照片上）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>📍 任务2：准备数据</span></span>
<span class="line"><span>   告诉上色师傅每个面的朝向</span></span>
<span class="line"><span>   （就像标注哪个面朝前、哪个面朝上）</span></span></code></pre></div><h3 id="工作特点" tabindex="-1">工作特点 <a class="header-anchor" href="#工作特点" aria-label="Permalink to &quot;工作特点&quot;">​</a></h3><ul><li>🎯 <strong>只处理顶点</strong>：立方体 8 个角，就工作 8 次</li><li>📐 <strong>管位置不管颜色</strong>：只决定&quot;在哪&quot;，不决定&quot;什么颜色&quot;</li><li>🔧 <strong>一次性工作</strong>：每个顶点只处理一次</li></ul><h2 id="片段着色器-——-上色师傅" tabindex="-1">片段着色器 —— &quot;上色师傅&quot; <a class="header-anchor" href="#片段着色器-——-上色师傅" aria-label="Permalink to &quot;片段着色器 —— &quot;上色师傅&quot;&quot;">​</a></h2><h3 id="片段着色器的工作内容" tabindex="-1">片段着色器的工作内容 <a class="header-anchor" href="#片段着色器的工作内容" aria-label="Permalink to &quot;片段着色器的工作内容&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 上色师傅关心每个&quot;像素&quot;的颜色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">输入：从定位师傅传来的位置和朝向信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">任务：决定屏幕上每个点的颜色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">输出：最终像素颜色</span></span></code></pre></div><h3 id="片段着色器的具体工作" tabindex="-1">片段着色器的具体工作 <a class="header-anchor" href="#片段着色器的具体工作" aria-label="Permalink to &quot;片段着色器的具体工作&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>🎨 任务1：计算光照</span></span>
<span class="line"><span>   根据表面朝向和光线方向，决定明暗程度</span></span>
<span class="line"><span>   （朝光的亮，背光的暗）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>🎨 任务2：上颜色</span></span>
<span class="line"><span>   给每个像素涂上合适的颜色</span></span>
<span class="line"><span>   （考虑光线后的最终颜色）</span></span></code></pre></div><h3 id="片段着色器的工作特点" tabindex="-1">片段着色器的工作特点 <a class="header-anchor" href="#片段着色器的工作特点" aria-label="Permalink to &quot;片段着色器的工作特点&quot;">​</a></h3><ul><li>🎨 <strong>处理每个像素</strong>：屏幕上有多少像素就工作多少次</li><li>💡 <strong>管颜色不管位置</strong>：只决定&quot;什么颜色&quot;，不决定&quot;在哪&quot;</li><li>🔄 <strong>重复性工作</strong>：可能要对百万个像素分别处理</li></ul><h2 id="完整工作流程举例" tabindex="-1">完整工作流程举例 <a class="header-anchor" href="#完整工作流程举例" aria-label="Permalink to &quot;完整工作流程举例&quot;">​</a></h2><h3 id="画一个红色立方体" tabindex="-1">画一个红色立方体 <a class="header-anchor" href="#画一个红色立方体" aria-label="Permalink to &quot;画一个红色立方体&quot;">​</a></h3><h4 id="第-1-步-定位师傅工作-顶点着色器" tabindex="-1">第 1 步：定位师傅工作（顶点着色器） <a class="header-anchor" href="#第-1-步-定位师傅工作-顶点着色器" aria-label="Permalink to &quot;第 1 步：定位师傅工作（顶点着色器）&quot;">​</a></h4><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>收到：8个顶点坐标</span></span>
<span class="line"><span>处理：计算每个点在屏幕上的位置</span></span>
<span class="line"><span>输出：</span></span>
<span class="line"><span>  点A在(100,200)</span></span>
<span class="line"><span>  点B在(300,200)</span></span>
<span class="line"><span>  点C在(300,400)</span></span>
<span class="line"><span>  ...</span></span></code></pre></div><h4 id="第-2-步-上色师傅工作-片段着色器" tabindex="-1">第 2 步：上色师傅工作（片段着色器） <a class="header-anchor" href="#第-2-步-上色师傅工作-片段着色器" aria-label="Permalink to &quot;第 2 步：上色师傅工作（片段着色器）&quot;">​</a></h4><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>收到：要画点(150,250)这个像素</span></span>
<span class="line"><span>处理：</span></span>
<span class="line"><span>  - 这个点在立方体的正面</span></span>
<span class="line"><span>  - 正面正对光线，应该亮一些</span></span>
<span class="line"><span>  - 基础红色 × 亮度 = 最终颜色</span></span>
<span class="line"><span>输出：这个像素涂成亮红色</span></span></code></pre></div><h2 id="更生动的比喻" tabindex="-1">更生动的比喻 <a class="header-anchor" href="#更生动的比喻" aria-label="Permalink to &quot;更生动的比喻&quot;">​</a></h2><h3 id="做彩色积木" tabindex="-1">做彩色积木 <a class="header-anchor" href="#做彩色积木" aria-label="Permalink to &quot;做彩色积木&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>顶点着色器 = 切割木块的师傅</span></span>
<span class="line"><span>  - 决定积木的形状和大小</span></span>
<span class="line"><span>  - 把木料切成正方体、长方体</span></span>
<span class="line"><span></span></span>
<span class="line"><span>片段着色器 = 涂颜色的师傅</span></span>
<span class="line"><span>  - 给积木表面涂颜色</span></span>
<span class="line"><span>  - 根据光线调整明暗</span></span>
<span class="line"><span>  - 让积木看起来有立体感</span></span></code></pre></div><h3 id="拍电影" tabindex="-1">拍电影 <a class="header-anchor" href="#拍电影" aria-label="Permalink to &quot;拍电影&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>顶点着色器 = 摄影师和场务</span></span>
<span class="line"><span>  - 布置场景中物体的位置</span></span>
<span class="line"><span>  - 调整摄像机角度</span></span>
<span class="line"><span></span></span>
<span class="line"><span>片段着色器 = 灯光师和调色师</span></span>
<span class="line"><span>  - 给场景打光</span></span>
<span class="line"><span>  - 调整每个画面的颜色</span></span>
<span class="line"><span>  - 营造氛围效果</span></span></code></pre></div><h2 id="为什么需要两个师傅" tabindex="-1">为什么需要两个师傅？ <a class="header-anchor" href="#为什么需要两个师傅" aria-label="Permalink to &quot;为什么需要两个师傅？&quot;">​</a></h2><h3 id="分工的效率" tabindex="-1">分工的效率 <a class="header-anchor" href="#分工的效率" aria-label="Permalink to &quot;分工的效率&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>如果让一个师傅既管位置又管颜色：</span></span>
<span class="line"><span>- 要对每个像素都重新计算位置（太慢了！）</span></span>
<span class="line"><span>- 很多计算是重复的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>分工后：</span></span>
<span class="line"><span>定位师傅：算一次位置，所有像素共用</span></span>
<span class="line"><span>上色师傅：专心处理颜色，效率更高</span></span></code></pre></div><h3 id="实际数据量对比" tabindex="-1">实际数据量对比 <a class="header-anchor" href="#实际数据量对比" aria-label="Permalink to &quot;实际数据量对比&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>一个立方体：</span></span>
<span class="line"><span>- 顶点数：8个点</span></span>
<span class="line"><span>- 像素数：可能几万到几十万个像素</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果不用分工：</span></span>
<span class="line"><span>上色师傅要对几十万个像素都重新计算位置 → 慢！</span></span>
<span class="line"><span></span></span>
<span class="line"><span>分工后：</span></span>
<span class="line"><span>定位师傅算8次位置</span></span>
<span class="line"><span>上色师傅算几十万次颜色 → 合理分工！</span></span></code></pre></div><h2 id="在游戏中的实际效果" tabindex="-1">在游戏中的实际效果 <a class="header-anchor" href="#在游戏中的实际效果" aria-label="Permalink to &quot;在游戏中的实际效果&quot;">​</a></h2><p><strong>没有着色器：</strong></p><ul><li>立方体是平面的</li><li>没有光影效果</li><li>看起来像纸片</li></ul><p><strong>有着色器：</strong></p><ul><li>立方体有立体感</li><li>有明暗变化</li><li>看起来像真实的物体</li></ul><h2 id="总结表格" tabindex="-1">总结表格 <a class="header-anchor" href="#总结表格" aria-label="Permalink to &quot;总结表格&quot;">​</a></h2><table tabindex="0"><thead><tr><th></th><th>顶点着色器</th><th>片段着色器</th></tr></thead><tbody><tr><td><strong>工作对象</strong></td><td>每个顶点</td><td>每个像素</td></tr><tr><td><strong>工作次数</strong></td><td>少（几十次）</td><td>多（几百万次）</td></tr><tr><td><strong>主要任务</strong></td><td>决定位置</td><td>决定颜色</td></tr><tr><td><strong>比喻</strong></td><td>定位师傅</td><td>上色师傅</td></tr><tr><td><strong>关心什么</strong></td><td>在哪显示</td><td>显示什么</td></tr></tbody></table><p><strong>洲煌总结：顶点着色器是&quot;建筑工人&quot;，负责把 3D 物体的框架搭好；片段着色器是&quot;装修工人&quot;，负责给框架涂颜色、做效果。两个配合起来，就把枯燥的数学数据变成了漂亮的 3D 画面！</strong></p>`,41)])])}const u=s(p,[["render",e]]);export{k as __pageData,u as default};
