import{_ as s,c as a,o as e,ag as t}from"./chunks/framework.oqSrIbQK.js";const k=JSON.parse('{"title":"Win11 升级 Python 3.9 到 3.10+ 完整指南（winget + py 启动器方案）","description":"","frontmatter":{},"headers":[],"relativePath":"posts/后端/Python/Win11 升级 Python 3.9 到 3.10+ 完整指南（winget + py启动器方案）.md","filePath":"posts/后端/Python/Win11 升级 Python 3.9 到 3.10+ 完整指南（winget + py启动器方案）.md","lastUpdated":1764331727000}'),n={name:"posts/后端/Python/Win11 升级 Python 3.9 到 3.10+ 完整指南（winget + py启动器方案）.md"};function l(h,i,o,p,d,r){return e(),a("div",null,[...i[0]||(i[0]=[t(`<h1 id="win11-升级-python-3-9-到-3-10-完整指南-winget-py-启动器方案" tabindex="-1">Win11 升级 Python 3.9 到 3.10+ 完整指南（winget + py 启动器方案） <a class="header-anchor" href="#win11-升级-python-3-9-到-3-10-完整指南-winget-py-启动器方案" aria-label="Permalink to &quot;Win11 升级 Python 3.9 到 3.10+ 完整指南（winget + py 启动器方案）&quot;">​</a></h1><p>在 Win11 上把 Python 从 3.9.20 升到 3.10+，最省事的是用 <strong>winget</strong> 安装&quot;并存版本&quot;，再把默认版本指到 3.10（或更高）。按下面做就行：</p><h2 id="方案-a-推荐-winget-安装并设置默认版本" tabindex="-1">方案 A（推荐）：winget 安装并设置默认版本 <a class="header-anchor" href="#方案-a-推荐-winget-安装并设置默认版本" aria-label="Permalink to &quot;方案 A（推荐）：winget 安装并设置默认版本&quot;">​</a></h2><h3 id="_1-查看当前已装的-python-版本-含路径" tabindex="-1">1. 查看当前已装的 Python 版本（含路径） <a class="header-anchor" href="#_1-查看当前已装的-python-版本-含路径" aria-label="Permalink to &quot;1. 查看当前已装的 Python 版本（含路径）&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">py </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">0p</span></span></code></pre></div><h3 id="_2-安装-python-3-10-如需更高可把-3-10-换成-3-11-3-12" tabindex="-1">2. 安装 Python 3.10（如需更高可把 3.10 换成 3.11/3.12） <a class="header-anchor" href="#_2-安装-python-3-10-如需更高可把-3-10-换成-3-11-3-12" aria-label="Permalink to &quot;2. 安装 Python 3.10（如需更高可把 3.10 换成 3.11/3.12）&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">winget install </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id Python.Python.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span></span></code></pre></div><p>（若提示需要同意协议，按提示确认即可。）</p><h3 id="_3-验证安装成功" tabindex="-1">3. 验证安装成功 <a class="header-anchor" href="#_3-验证安装成功" aria-label="Permalink to &quot;3. 验证安装成功&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">py </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-3.10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V</span></span></code></pre></div><h3 id="_4-设为-py-启动器的默认版本-不改-path-最稳" tabindex="-1">4. 设为 <code>py</code> 启动器的默认版本（不改 PATH，最稳） <a class="header-anchor" href="#_4-设为-py-启动器的默认版本-不改-path-最稳" aria-label="Permalink to &quot;4. 设为 \`py\` 启动器的默认版本（不改 PATH，最稳）&quot;">​</a></h3><ul><li><p>新建/编辑文件：<code>%LOCALAPPDATA%\\py.ini</code></p><ul><li><strong>实际路径</strong>：<code>C:\\Users\\&lt;你的用户名&gt;\\AppData\\Local\\py.ini</code></li><li><strong>快速打开</strong>：在文件资源管理器地址栏输入 <code>%LOCALAPPDATA%</code> 回车，就会跳到该目录，然后新建 <code>py.ini</code> 文件</li><li>或者用记事本直接创建：在 PowerShell 中运行 <code>notepad $env:LOCALAPPDATA\\py.ini</code></li></ul></li><li><p>写入内容：</p></li></ul><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[defaults]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">python</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=3.10</span></span></code></pre></div><p>保存后再验证：</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">py </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 应显示 3.10.x</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">python </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 若你把 python 绑定到启动器，也可能显示 3.10.x；否则保持原 PATH</span></span></code></pre></div><h3 id="_5-升级对应-pip-并把常用包迁到-3-10" tabindex="-1">5. 升级对应 pip，并把常用包迁到 3.10 <a class="header-anchor" href="#_5-升级对应-pip-并把常用包迁到-3-10" aria-label="Permalink to &quot;5. 升级对应 pip，并把常用包迁到 3.10&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">py </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-3.10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m pip install </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">upgrade pip</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 需要哪些包就装哪些，例如：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">py </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-3.10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m pip install requests fastapi uvicorn</span></span></code></pre></div><h3 id="_6-虚拟环境-如用-venv" tabindex="-1">6. 虚拟环境（如用 venv） <a class="header-anchor" href="#_6-虚拟环境-如用-venv" aria-label="Permalink to &quot;6. 虚拟环境（如用 venv）&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在项目根目录重建 3.10 的 venv</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">py </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-3.10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m venv .venv</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.\\.venv\\Scripts\\activate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">python </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 应该是 3.10.x</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pip install </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r requirements.txt</span></span></code></pre></div><blockquote><p><strong>提示</strong>：winget 安装的多版本会互不影响；用 <code>py -3.x</code> 精确选择版本最省心。</p></blockquote><hr><h2 id="方案-b-官方安装包-离线-网络不稳时" tabindex="-1">方案 B：官方安装包（离线/网络不稳时） <a class="header-anchor" href="#方案-b-官方安装包-离线-网络不稳时" aria-label="Permalink to &quot;方案 B：官方安装包（离线/网络不稳时）&quot;">​</a></h2><h3 id="_1-下载安装包" tabindex="-1">1. 下载安装包 <a class="header-anchor" href="#_1-下载安装包" aria-label="Permalink to &quot;1. 下载安装包&quot;">​</a></h3><p>到 <a href="https://www.python.org/downloads/" target="_blank" rel="noreferrer">python.org</a> 下载 <strong>Windows x86-64 installer</strong> 的 <em>3.10.x</em>（或更高版本）的 <strong>可执行安装包（.exe）</strong>。</p><h3 id="_2-运行安装器" tabindex="-1">2. 运行安装器 <a class="header-anchor" href="#_2-运行安装器" aria-label="Permalink to &quot;2. 运行安装器&quot;">​</a></h3><p>运行安装器，勾选：</p><ul><li>&quot;Add python.exe to PATH&quot;（可选；若只用 <code>py</code> 启动器可以不勾）</li><li>&quot;Install launcher for all users (recommended)&quot;</li><li>&quot;Customize installation&quot; 中保持默认即可</li></ul><h3 id="_3-验证与配置" tabindex="-1">3. 验证与配置 <a class="header-anchor" href="#_3-验证与配置" aria-label="Permalink to &quot;3. 验证与配置&quot;">​</a></h3><p>安装后按上面 <strong>方案 A 的步骤 3~6</strong> 验证与设置默认版本（<code>py.ini</code>）。</p><hr><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="winget-命令找不到" tabindex="-1"><code>winget</code> 命令找不到 <a class="header-anchor" href="#winget-命令找不到" aria-label="Permalink to &quot;\`winget\` 命令找不到&quot;">​</a></h3><p>用 Microsoft Store 更新&quot;应用安装程序（App Installer）&quot;，或走方案 B。</p><h3 id="默认-python-还是-3-9-需要绑定吗" tabindex="-1">默认 <code>python</code> 还是 3.9，需要绑定吗？ <a class="header-anchor" href="#默认-python-还是-3-9-需要绑定吗" aria-label="Permalink to &quot;默认 \`python\` 还是 3.9，需要绑定吗？&quot;">​</a></h3><p><strong>不绑定（推荐）</strong>：</p><ul><li><code>py</code> 命令 → 3.10（由 <code>py.ini</code> 控制）</li><li><code>python</code> 命令 → 3.9（由 PATH 控制）</li><li><strong>优点</strong>： <ul><li>✅ 多版本共存，互不干扰</li><li>✅ 旧项目/脚本还能用 <code>python</code> 调用 3.9</li><li>✅ 新项目用 <code>py</code> 或虚拟环境，自动用 3.10</li><li>✅ 避免 PATH 冲突和环境污染</li></ul></li><li><strong>适用场景</strong>：有旧项目依赖 3.9，或者需要频繁切换版本</li></ul><p><strong>如果要绑定</strong>（让 <code>python</code> 也指向 3.10）：</p><p>把 3.10 的安装目录（一般在 <code>%LocalAppData%\\Programs\\Python\\Python310\\</code>）放到系统 PATH <strong>最前面</strong>：</p><ol><li>右键&quot;此电脑&quot; → &quot;属性&quot; → &quot;高级系统设置&quot; → &quot;环境变量&quot;</li><li>在&quot;用户变量&quot;或&quot;系统变量&quot;的 <code>Path</code> 中，把 <code>C:\\Users\\&lt;用户名&gt;\\AppData\\Local\\Programs\\Python\\Python310</code> 和 <code>...\\Python310\\Scripts</code> 移到最上面</li><li>重新打开 PowerShell，验证：<code>python -V</code> 应显示 3.10.x</li></ol><p><strong>推荐做法</strong>：</p><ul><li>日常开发：用 <code>py</code> 命令或虚拟环境（最稳定）</li><li>懒得改习惯：绑定 <code>python</code> 到 3.10</li><li>需要多版本：不绑定，用 <code>py -3.9</code> / <code>py -3.10</code> 精确指定</li></ul><h3 id="旧虚拟环境还是-3-9" tabindex="-1">旧虚拟环境还是 3.9 <a class="header-anchor" href="#旧虚拟环境还是-3-9" aria-label="Permalink to &quot;旧虚拟环境还是 3.9&quot;">​</a></h3><p>必须用 3.10 重新创建 venv（见上面步骤 6）。</p><hr><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>使用 <code>winget</code> + <code>py</code> 启动器 + <code>py.ini</code> 配置文件的方案，可以：</p><ul><li>✅ 保留旧版本 Python（避免破坏现有项目）</li><li>✅ 精确控制默认版本（不污染系统 PATH）</li><li>✅ 随时切换版本（<code>py -3.9</code> / <code>py -3.10</code> / <code>py -3.11</code>）</li><li>✅ 虚拟环境隔离（各项目用各自的 Python 版本）</li></ul><p>这是 Windows 平台上管理多版本 Python 的最佳实践。</p>`,48)])])}const g=s(n,[["render",l]]);export{k as __pageData,g as default};
