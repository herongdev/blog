import{_ as i,c as a,o as n,ag as h}from"./chunks/framework.oqSrIbQK.js";const o=JSON.parse('{"title":"C/C++ 字符指针 char* 详解（含字符串内存图）","description":"从零解释 char*：指针与内存、字符串的本质、const char* 的必要性、指针运算与在 NAPI 实战中的用法。","frontmatter":{"title":"C/C++ 字符指针 char* 详解（含字符串内存图）","date":"2025-01-27T00:00:00.000Z","tags":["C","C++","指针","字符串"],"description":"从零解释 char*：指针与内存、字符串的本质、const char* 的必要性、指针运算与在 NAPI 实战中的用法。"},"headers":[],"relativePath":"posts/cpp教程/基础入门/C-字符指针-char-指针详解（含字符串内存图）.md","filePath":"posts/cpp教程/基础入门/C-字符指针-char-指针详解（含字符串内存图）.md","lastUpdated":1764331727000}'),p={name:"posts/cpp教程/基础入门/C-字符指针-char-指针详解（含字符串内存图）.md"};function t(l,s,e,k,d,r){return n(),a("div",null,[...s[0]||(s[0]=[h(`<h2 id="char-是什么" tabindex="-1"><code>char*</code> 是什么？ <a class="header-anchor" href="#char-是什么" aria-label="Permalink to &quot;\`char*\` 是什么？&quot;">​</a></h2><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key;</span></span></code></pre></div><ul><li><code>char</code>：字符类型（一个字母/符号）</li><li><code>*</code>：指针符号，表示“指向……的地址”</li><li><code>key</code>：变量名</li></ul><p>结论：<code>char*</code> 表示“指向字符的指针”，通常用来指向字符串的起始位置。</p><h2 id="为什么需要-指针" tabindex="-1">为什么需要 <code>*</code>（指针）？ <a class="header-anchor" href="#为什么需要-指针" aria-label="Permalink to &quot;为什么需要 \`*\`（指针）？&quot;">​</a></h2><h3 id="_1-内存地址的概念" tabindex="-1">1) 内存地址的概念 <a class="header-anchor" href="#_1-内存地址的概念" aria-label="Permalink to &quot;1) 内存地址的概念&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> singleChar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         // 变量里存的是 &#39;A&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pointer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">singleChar;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // 指针里存的是 singleChar 的内存地址</span></span></code></pre></div><h3 id="_2-字符串的本质-字符数组-结尾符-0" tabindex="-1">2) 字符串的本质：字符数组 + 结尾符 <code>\\0</code> <a class="header-anchor" href="#_2-字符串的本质-字符数组-结尾符-0" aria-label="Permalink to &quot;2) 字符串的本质：字符数组 + 结尾符 \`\\0\`&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// 字符串 &quot;hello&quot; 在内存中的表示：</span></span>
<span class="line"><span>地址:  0x1000  0x1001  0x1002  0x1003  0x1004  0x1005</span></span>
<span class="line"><span>值:    &#39;h&#39;     &#39;e&#39;     &#39;l&#39;     &#39;l&#39;     &#39;o&#39;     &#39;\\0&#39;</span></span>
<span class="line"><span>        ↑</span></span>
<span class="line"><span>      char* 指针通常指向这里（首地址）</span></span></code></pre></div><p><code>char*</code> 不存储整段字符串本身，只存储“起始地址”。通过这个地址，程序可以顺着读取完整的字符串，直到遇到 <code>\\0</code>。</p><h2 id="char-在字符串中的作用" tabindex="-1"><code>char*</code> 在字符串中的作用 <a class="header-anchor" href="#char-在字符串中的作用" aria-label="Permalink to &quot;\`char*\` 在字符串中的作用&quot;">​</a></h2><h3 id="_1-指向字符串首地址" tabindex="-1">1) 指向字符串首地址 <a class="header-anchor" href="#_1-指向字符串首地址" aria-label="Permalink to &quot;1) 指向字符串首地址&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;position&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><ul><li><code>key</code> 存储的是字符串常量 <code>&quot;position&quot;</code> 的起始地址；</li><li>通过 <code>key</code> 可逐个读取 <code>&#39;p&#39; &#39;o&#39; ... &#39;n&#39;</code>，直到遇到 <code>\\0</code>。</li></ul><h3 id="_2-内存示意" tabindex="-1">2) 内存示意 <a class="header-anchor" href="#_2-内存示意" aria-label="Permalink to &quot;2) 内存示意&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>地址      值         含义</span></span>
<span class="line"><span>0x2000    &#39;p&#39;   ← key 指向这里</span></span>
<span class="line"><span>0x2001    &#39;o&#39;</span></span>
<span class="line"><span>0x2002    &#39;s&#39;</span></span>
<span class="line"><span>0x2003    &#39;i&#39;</span></span>
<span class="line"><span>0x2004    &#39;t&#39;</span></span>
<span class="line"><span>0x2005    &#39;i&#39;</span></span>
<span class="line"><span>0x2006    &#39;o&#39;</span></span>
<span class="line"><span>0x2007    &#39;n&#39;</span></span>
<span class="line"><span>0x2008    &#39;\\0&#39;  字符串结束符</span></span></code></pre></div><h2 id="为什么应写成-const-char" tabindex="-1">为什么应写成 <code>const char*</code>？ <a class="header-anchor" href="#为什么应写成-const-char" aria-label="Permalink to &quot;为什么应写成 \`const char*\`？&quot;">​</a></h2><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;position&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 推荐</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// char *key = &quot;position&quot;;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // 旧式写法，可能警告或未定义行为</span></span></code></pre></div><p>原因：</p><ul><li>字符串字面量存放在只读区域；</li><li><code>const</code> 能防止修改（安全、表达意图清晰）；</li><li>现代编译器会对非常量指针指向字符串常量发出告警。</li></ul><h2 id="指针访问与运算" tabindex="-1">指针访问与运算 <a class="header-anchor" href="#指针访问与运算" aria-label="Permalink to &quot;指针访问与运算&quot;">​</a></h2><h3 id="_1-解引用访问字符" tabindex="-1">1) 解引用访问字符 <a class="header-anchor" href="#_1-解引用访问字符" aria-label="Permalink to &quot;1) 解引用访问字符&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c0 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // &#39;h&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // &#39;e&#39;</span></span></code></pre></div><h3 id="_2-指针移动" tabindex="-1">2) 指针移动 <a class="header-anchor" href="#_2-指针移动" aria-label="Permalink to &quot;2) 指针移动&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// str 指向 &#39;h&#39;，str+1 指向 &#39;e&#39;，str+2 指向 &#39;l&#39; ...</span></span></code></pre></div><h2 id="在-napi-node-api-实战中的应用" tabindex="-1">在 NAPI/Node-API 实战中的应用 <a class="header-anchor" href="#在-napi-node-api-实战中的应用" aria-label="Permalink to &quot;在 NAPI/Node-API 实战中的应用&quot;">​</a></h2><p>以 Lambda <code>readVec3</code> 为例：</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">auto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> readVec3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">](</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) -&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 通过 key（如 &quot;position&quot;）从 JS 对象中取属性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  napi_value arr;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">napi_get_named_property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(env, item, key, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> napi_ok) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isA </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  napi_is_array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(env, arr, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">isA);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">isA) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    napi_value num;  </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">napi_get_element</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(env, arr, k, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;    </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">napi_get_value_double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(env, num, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v[k] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)d;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>调用：</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readVec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;position&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, position);</span></span></code></pre></div><p>流程：</p><ol><li>字符串常量 <code>&quot;position&quot;</code> 的地址传入 <code>key</code>；</li><li>用 <code>key</code> 到 JS 对象里拿到名为 <code>&quot;position&quot;</code> 的属性；</li><li>校验是数组后，读取前三项并写入 <code>v[3]</code>。</li></ol><h2 id="类比记忆" tabindex="-1">类比记忆 <a class="header-anchor" href="#类比记忆" aria-label="Permalink to &quot;类比记忆&quot;">​</a></h2><p>把 <code>char*</code> 想成“地址名片”：</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">名片 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;张三的家&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 名片很小，只写地址</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 通过名片（地址）才能找到真正的房子（字符串内容）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 若每次都传完整地址：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 完整地址[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;北京市海淀区……&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 每次复制很低效</span></span></code></pre></div><p><code>char*</code> 只传地址（4 或 8 字节），高效、节省内存，多个指针还能共享同一段只读字符串。</p><h2 id="小结" tabindex="-1">小结 <a class="header-anchor" href="#小结" aria-label="Permalink to &quot;小结&quot;">​</a></h2><ul><li><code>char*</code> 是“指向字符的指针”，字符串是“以 <code>\\0</code> 结尾的字符数组”；</li><li>传递 <code>const char*</code> 更安全，能清晰表达“只读”；</li><li>指针支持解引用与位移，便于遍历字符；</li><li>在 NAPI 等场景中，<code>const char*</code> 常用作属性名/键名的高效入参。</li></ul>`,38)])])}const E=i(p,[["render",t]]);export{o as __pageData,E as default};
