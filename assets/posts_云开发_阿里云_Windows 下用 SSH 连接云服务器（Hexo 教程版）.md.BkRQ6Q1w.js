import{_ as i,c as a,o as e,ag as n}from"./chunks/framework.oqSrIbQK.js";const c=JSON.parse('{"title":"Windows 下用 SSH 连接云服务器（Hexo 教程版）","description":"","frontmatter":{"title":"Windows 下用 SSH 连接云服务器（Hexo 教程版）","date":"2025-09-21T00:00:00.000Z","tags":["SSH","OpenSSH","PuTTY","运维基础"]},"headers":[],"relativePath":"posts/云开发/阿里云/Windows 下用 SSH 连接云服务器（Hexo 教程版）.md","filePath":"posts/云开发/阿里云/Windows 下用 SSH 连接云服务器（Hexo 教程版）.md","lastUpdated":1758475234000}'),t={name:"posts/云开发/阿里云/Windows 下用 SSH 连接云服务器（Hexo 教程版）.md"};function l(h,s,p,o,r,k){return e(),a("div",null,[...s[0]||(s[0]=[n(`<blockquote><p>本文面向 <strong>Win10</strong> 用户，手把手完成：安装 OpenSSH 客户端 → 生成密钥 → 把公钥放到服务器 → 使用 SSH（含私钥/ssh-agent/自定义端口/主机别名）。</p></blockquote><h2 id="一、安装-openssh-客户端-powershell-推荐" tabindex="-1">一、安装 OpenSSH 客户端（PowerShell，推荐） <a class="header-anchor" href="#一、安装-openssh-客户端-powershell-推荐" aria-label="Permalink to &quot;一、安装 OpenSSH 客户端（PowerShell，推荐）&quot;">​</a></h2><h3 id="_1-用管理员权限打开-powershell" tabindex="-1">1. 用管理员权限打开 PowerShell <a class="header-anchor" href="#_1-用管理员权限打开-powershell" aria-label="Permalink to &quot;1. 用管理员权限打开 PowerShell&quot;">​</a></h3><ul><li>在「开始」菜单输入 <strong>PowerShell</strong> → 右键 → <strong>以管理员身份运行</strong>。</li></ul><h3 id="_2-检查是否已安装-openssh-client" tabindex="-1">2. 检查是否已安装 OpenSSH.Client <a class="header-anchor" href="#_2-检查是否已安装-openssh-client" aria-label="Permalink to &quot;2. 检查是否已安装 OpenSSH.Client&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：查询 OpenSSH 客户端能力包是否已安装</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Get-WindowsCapability</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Online </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Where-Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-Like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;OpenSSH.Client*&#39;</span></span></code></pre></div><ul><li>若 <strong>State = Installed</strong>，可跳到“二、生成密钥”。</li></ul><h3 id="_3-未安装则执行安装" tabindex="-1">3. 未安装则执行安装 <a class="header-anchor" href="#_3-未安装则执行安装" aria-label="Permalink to &quot;3. 未安装则执行安装&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：在线安装 OpenSSH 客户端能力包</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Add-WindowsCapability</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Online </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name OpenSSH.Client~~~~</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span></span></code></pre></div><h3 id="_4-验证安装" tabindex="-1">4. 验证安装 <a class="header-anchor" href="#_4-验证安装" aria-label="Permalink to &quot;4. 验证安装&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：重启 PowerShell 会话后检查 ssh 版本</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V</span></span></code></pre></div><hr><h2 id="二、生成-ssh-密钥对-如已拥有可跳过" tabindex="-1">二、生成 SSH 密钥对（如已拥有可跳过） <a class="header-anchor" href="#二、生成-ssh-密钥对-如已拥有可跳过" aria-label="Permalink to &quot;二、生成 SSH 密钥对（如已拥有可跳过）&quot;">​</a></h2><h3 id="选项-a-rsa-4096-与你原文一致" tabindex="-1">选项 A：RSA 4096（与你原文一致） <a class="header-anchor" href="#选项-a-rsa-4096-与你原文一致" aria-label="Permalink to &quot;选项 A：RSA 4096（与你原文一致）&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：在默认路径生成 RSA 4096 位密钥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keygen </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t rsa </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4096</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;379925144@qq.com&quot;</span></span></code></pre></div><ul><li>默认保存位置：<code>C:\\Users\\&lt;你的用户名&gt;\\.ssh\\id_rsa</code> 与 <code>id_rsa.pub</code>。</li></ul><h3 id="选项-b-ed25519-可选-更精简" tabindex="-1">选项 B：ed25519（可选，更精简） <a class="header-anchor" href="#选项-b-ed25519-可选-更精简" aria-label="Permalink to &quot;选项 B：ed25519（可选，更精简）&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：生成 ed25519 密钥对（推荐现代算法）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keygen </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t ed25519 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;379925144@qq.com&quot;</span></span></code></pre></div><h2 id="三、把-公钥-复制到服务器" tabindex="-1">三、把 <strong>公钥</strong> 复制到服务器 <a class="header-anchor" href="#三、把-公钥-复制到服务器" aria-label="Permalink to &quot;三、把 **公钥** 复制到服务器&quot;">​</a></h2><blockquote><p>Windows 原生命令行没有 <code>ssh-copy-id</code>，你给出的做法（<strong>WSL 或 Git Bash</strong>）非常实用。也可以手动粘贴公钥内容到服务器的 <code>~/.ssh/authorized_keys</code>。</p></blockquote><h3 id="方式-1-使用-wsl-或-git-bash-的-ssh-copy-id" tabindex="-1">方式 1：使用 WSL 或 Git Bash 的 <code>ssh-copy-id</code> <a class="header-anchor" href="#方式-1-使用-wsl-或-git-bash-的-ssh-copy-id" aria-label="Permalink to &quot;方式 1：使用 WSL 或 Git Bash 的 \`ssh-copy-id\`&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：将本机公钥追加到服务器目标用户的可信名单</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa.pub</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 用户名@服务器IP</span></span></code></pre></div><h3 id="方式-2-手动添加-无-wsl-git-bash-时" tabindex="-1">方式 2：手动添加（无 WSL/Git Bash 时） <a class="header-anchor" href="#方式-2-手动添加-无-wsl-git-bash-时" aria-label="Permalink to &quot;方式 2：手动添加（无 WSL/Git Bash 时）&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：打印公钥内容并复制</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Get-Content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USERPROFILE\\.ssh\\id_rsa.pub</span></span></code></pre></div><ul><li>将输出内容整行复制到服务器（建议先用密码或控制台登录）：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：在服务器上创建 .ssh 目录并设置权限</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 700</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：把公钥追加到授权列表并收紧权限</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ssh-rsa AAAA...你的公钥...&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/authorized_keys</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/authorized_keys</span></span></code></pre></div><h2 id="四、开始使用-ssh-连接" tabindex="-1">四、开始使用 SSH 连接 <a class="header-anchor" href="#四、开始使用-ssh-连接" aria-label="Permalink to &quot;四、开始使用 SSH 连接&quot;">​</a></h2><h3 id="_1-最简单的连接-密码方式" tabindex="-1">1. 最简单的连接（密码方式） <a class="header-anchor" href="#_1-最简单的连接-密码方式" aria-label="Permalink to &quot;1. 最简单的连接（密码方式）&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：首次连接接受服务器指纹，随后输入账号密码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh 用户名@服务器IP</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 示例：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh root@123.45.67.89</span></span></code></pre></div><h3 id="_2-指定非默认端口" tabindex="-1">2. 指定非默认端口 <a class="header-anchor" href="#_2-指定非默认端口" aria-label="Permalink to &quot;2. 指定非默认端口&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：当服务器 SSH 端口不是 22 时，手动指定端口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2222</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 用户名@123.45.67.89</span></span></code></pre></div><h3 id="_3-使用-私钥文件-免输密码" tabindex="-1">3. 使用 <strong>私钥文件</strong> 免输密码 <a class="header-anchor" href="#_3-使用-私钥文件-免输密码" aria-label="Permalink to &quot;3. 使用 **私钥文件** 免输密码&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：使用 -i 指定私钥文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i C:\\Users\\Administrator\\.ssh\\id_rsa 用户名@123.45.67.89</span></span></code></pre></div><h3 id="_4-使用-ssh-agent-管理私钥-更省心" tabindex="-1">4. 使用 <strong>ssh-agent</strong> 管理私钥（更省心） <a class="header-anchor" href="#_4-使用-ssh-agent-管理私钥-更省心" aria-label="Permalink to &quot;4. 使用 **ssh-agent** 管理私钥（更省心）&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：启动 ssh-agent 服务</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Start-Service</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ssh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">agent</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：把私钥交给代理（以后可直接 ssh，不用每次 -i）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">add C:\\Users\\Administrator\\.ssh\\id_rsa</span></span></code></pre></div><blockquote><p><strong>防火墙/安全组</strong>：请确认 <strong>Windows 防火墙</strong>与<strong>云厂商安全组</strong>均放通 SSH（TCP 22，或你的自定义端口）。</p></blockquote><h2 id="五、配置主机别名-免输入-ip-与参数" tabindex="-1">五、配置主机别名（免输入 IP 与参数） <a class="header-anchor" href="#五、配置主机别名-免输入-ip-与参数" aria-label="Permalink to &quot;五、配置主机别名（免输入 IP 与参数）&quot;">​</a></h2><h3 id="_1-创建-ssh-目录与-config-文件" tabindex="-1">1. 创建 <code>.ssh</code> 目录与 <code>config</code> 文件 <a class="header-anchor" href="#_1-创建-ssh-目录与-config-文件" aria-label="Permalink to &quot;1. 创建 \`.ssh\` 目录与 \`config\` 文件&quot;">​</a></h3><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：确保 .ssh 目录与 config 文件存在</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">New-Item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ItemType Directory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Path $</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USERPROFILE\\.ssh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Force </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Out-Null</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">New-Item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ItemType File </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Path $</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USERPROFILE\\.ssh\\config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Force </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Out-Null</span></span></code></pre></div><h3 id="_2-在-c-users-administrator-ssh-config-中加入如下配置" tabindex="-1">2. 在 <code>C:\\Users\\Administrator\\.ssh\\config</code> 中加入如下配置 <a class="header-anchor" href="#_2-在-c-users-administrator-ssh-config-中加入如下配置" aria-label="Permalink to &quot;2. 在 \`C:\\Users\\Administrator\\.ssh\\config\` 中加入如下配置&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 复杂逻辑：为目标服务器声明一个别名 myserver</span></span>
<span class="line"><span>Host myserver</span></span>
<span class="line"><span>    HostName 123.45.67.89</span></span>
<span class="line"><span>    User yourusername</span></span>
<span class="line"><span>    Port 22</span></span>
<span class="line"><span>    IdentityFile C:\\Users\\Administrator\\.ssh\\id_rsa</span></span>
<span class="line"><span>    IdentitiesOnly yes</span></span></code></pre></div><p>保存后，直接：</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复杂逻辑：通过别名一键连接</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh myserver</span></span></code></pre></div><hr><h2 id="常见问题速查" tabindex="-1">常见问题速查 <a class="header-anchor" href="#常见问题速查" aria-label="Permalink to &quot;常见问题速查&quot;">​</a></h2><ul><li><p><strong>Permission denied (publickey)</strong></p><ul><li>检查是否把<strong>公钥</strong>写入服务器 <code>~/.ssh/authorized_keys</code>；</li><li>用户名是否正确（Ubuntu 常为 <code>ubuntu</code>，部分镜像是 <code>root</code>）；</li><li>服务器 <code>sshd_config</code> 是否开启 <code>PubkeyAuthentication yes</code>；</li><li>私钥权限是否过宽（在 Windows 上建议仅当前用户可读；若用 WSL/Git Bash，可 <code>chmod 600</code>）。</li></ul></li><li><p><strong>连接超时/被拒</strong></p><ul><li>安全组未放行 SSH 端口；云服务器端口变更未同步；本地网络/公司策略拦截。</li></ul></li><li><p><strong>Host key verification failed</strong>（重装系统常见）</p><ul><li>服务器指纹改变，编辑并删除本机 <code>~/.ssh/known_hosts</code> 中对应该 IP 的一行后重连。</li></ul></li></ul><hr><h2 id="补充与最佳实践" tabindex="-1">补充与最佳实践 <a class="header-anchor" href="#补充与最佳实践" aria-label="Permalink to &quot;补充与最佳实践&quot;">​</a></h2><ul><li><strong>密钥算法选择</strong>：RSA 4096 与 ed25519 均可；若无历史兼容限制，<strong>推荐 ed25519</strong>。</li><li><strong>多设备管理</strong>：为每台电脑生成<strong>独立密钥</strong>，把各自公钥加入同一台服务器，撤销时删除对应行即可。</li><li><strong>安全优先</strong>：为私钥设置 <strong>passphrase</strong>；平时<strong>以密钥登录为主</strong>，仅在需要时临时开启密码登录。</li><li><strong>与 FileZilla 配合</strong>：协议选 <strong>SFTP</strong>，登录类型选<strong>密钥文件</strong>；若手头是 <code>.pem</code> 而你偏好 PuTTY/FileZilla，可用 <strong>PuTTYgen</strong> 转 <code>.ppk</code> 再选择。</li></ul><hr><h2 id="一句话总结" tabindex="-1">一句话总结 <a class="header-anchor" href="#一句话总结" aria-label="Permalink to &quot;一句话总结&quot;">​</a></h2><blockquote><p><strong>服务器预存“公钥名单”，本地持“私钥”。登录时本地用私钥签名、服务器用公钥验证，无需传输私钥。Win10 用内置 OpenSSH 基本就够用；配合 ssh-agent 与 <code>~/.ssh/config</code>，连接更省心。</strong></p></blockquote>`,52)])])}const g=i(t,[["render",l]]);export{c as __pageData,g as default};
